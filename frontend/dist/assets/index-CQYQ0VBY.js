import{r as x,c as bn,b as jn,a as Cn,R as Q,g as Lt}from"./vendor-DGSAJ0Dx.js";import{_ as Sn,a as k,L as we,B as R,R as wn,b as _n,S as G,D as Pn,A as $n,c as Tt,d as $r,e as Rn,M as On,f as kn,g as at,h as Pt,i as In,j as En,T as be,k as L,F as _,l as H,C as I,m as T,n as Ce,o as Tn,p as Rr,q as Ft,r as $t,s as se,t as Fn,u as Nn,v as Mn,P as An,w as Se,x as Ne,y as Dn,z as ce,I as D,E as O,G as zt,H as qn,J as ye,K as it,N as me,O as Rt,Q as he,U as Gt,V as Te,W as Jt,X as Xt,Y as Un,Z as Or,$ as kr,a0 as Kt,a1 as Ir,a2 as Qn,a3 as Ln,a4 as Zt,a5 as zn,a6 as er,a7 as Kn,a8 as tr,a9 as Bn,aa as Ot,ab as Nt,ac as rr}from"./antd-4887UH7P.js";import{c as Er,a as Wn}from"./utils-DEhJor0K.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();var Tr={exports:{}},ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=x,Vn=Symbol.for("react.element"),Hn=Symbol.for("react.fragment"),Gn=Object.prototype.hasOwnProperty,Jn=Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xn={key:!0,ref:!0,__self:!0,__source:!0};function Fr(e,n,a){var r,s={},i=null,o=null;a!==void 0&&(i=""+a),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(o=n.ref);for(r in n)Gn.call(n,r)&&!Xn.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:Vn,type:e,key:i,ref:o,props:s,_owner:Jn.current}}ot.Fragment=Hn;ot.jsx=Fr;ot.jsxs=Fr;Tr.exports=ot;var t=Tr.exports,Mt={},nr=bn;Mt.createRoot=nr.createRoot,Mt.hydrateRoot=nr.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Me.apply(this,arguments)}var fe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fe||(fe={}));const sr="popstate";function Zn(e){e===void 0&&(e={});function n(r,s){let{pathname:i,search:o,hash:l}=r.location;return At("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:Nr(s)}return ts(n,a,null,e)}function z(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Bt(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function es(){return Math.random().toString(36).substr(2,8)}function ar(e,n){return{usr:e.state,key:e.key,idx:n}}function At(e,n,a,r){return a===void 0&&(a=null),Me({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Pe(n):n,{state:a,key:n&&n.key||r||es()})}function Nr(e){let{pathname:n="/",search:a="",hash:r=""}=e;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Pe(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function ts(e,n,a,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=fe.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Me({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=fe.Pop;let h=f(),y=h==null?null:h-d;d=h,c&&c({action:l,location:u.location,delta:y})}function v(h,y){l=fe.Push;let j=At(u.location,h,y);d=f()+1;let w=ar(j,d),A=u.createHref(j);try{o.pushState(w,"",A)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(A)}i&&c&&c({action:l,location:u.location,delta:1})}function m(h,y){l=fe.Replace;let j=At(u.location,h,y);d=f();let w=ar(j,d),A=u.createHref(j);o.replaceState(w,"",A),i&&c&&c({action:l,location:u.location,delta:0})}function b(h){let y=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof h=="string"?h:Nr(h);return j=j.replace(/ $/,"%20"),z(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let u={get action(){return l},get location(){return e(s,o)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sr,p),c=h,()=>{s.removeEventListener(sr,p),c=null}},createHref(h){return n(s,h)},createURL:b,encodeLocation(h){let y=b(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:v,replace:m,go(h){return o.go(h)}};return u}var ir;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ir||(ir={}));function rs(e,n,a){return a===void 0&&(a="/"),ns(e,n,a)}function ns(e,n,a,r){let s=typeof n=="string"?Pe(n):n,i=Dr(s.pathname||"/",a);if(i==null)return null;let o=Mr(e);ss(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=vs(i);l=fs(o[c],d)}return l}function Mr(e,n,a,r){n===void 0&&(n=[]),a===void 0&&(a=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(z(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ge([r,c.relativePath]),f=a.concat(c);i.children&&i.children.length>0&&(z(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mr(i.children,n,f,d)),!(i.path==null&&!i.index)&&n.push({path:d,score:ds(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Ar(i.path))s(i,o,c)}),n}function Ar(e){let n=e.split("/");if(n.length===0)return[];let[a,...r]=n,s=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ar(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ss(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:hs(n.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const as=/^:[\w-]+$/,is=3,os=2,ls=1,cs=10,us=-2,or=e=>e==="*";function ds(e,n){let a=e.split("/"),r=a.length;return a.some(or)&&(r+=us),n&&(r+=os),a.filter(s=>!or(s)).reduce((s,i)=>s+(as.test(i)?is:i===""?ls:cs),r)}function hs(e,n){return e.length===n.length&&e.slice(0,-1).every((r,s)=>r===n[s])?e[e.length-1]-n[n.length-1]:0}function fs(e,n,a){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=i==="/"?n:n.slice(i.length)||"/",p=ps({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ge([i,p.pathname]),pathnameBase:js(ge([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=ge([i,p.pathnameBase]))}return o}function ps(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=ms(e.path,e.caseSensitive,e.end),s=n.match(a);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:v,isOptional:m}=f;if(v==="*"){let u=l[p]||"";o=i.slice(0,i.length-u.length).replace(/(.)\/+$/,"$1")}const b=l[p];return m&&!b?d[v]=void 0:d[v]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function ms(e,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),Bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),r]}function vs(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Bt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Dr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}const xs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=e=>xs.test(e);function gs(e,n){n===void 0&&(n="/");let{pathname:a,search:r="",hash:s=""}=typeof e=="string"?Pe(e):e,i;if(a)if(ys(a))i=a;else{if(a.includes("//")){let o=a;a=a.replace(/\/\/+/g,"/"),Bt(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+a))}a.startsWith("/")?i=lr(a.substring(1),"/"):i=lr(a,n)}else i=n;return{pathname:i,search:Cs(r),hash:Ss(s)}}function lr(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function kt(e,n,a,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bs(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function qr(e,n){let a=bs(e);return n?a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Ur(e,n,a,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Pe(e):(s=Me({},e),z(!s.pathname||!s.pathname.includes("?"),kt("?","pathname","search",s)),z(!s.pathname||!s.pathname.includes("#"),kt("#","pathname","hash",s)),z(!s.search||!s.search.includes("#"),kt("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=a;else{let p=n.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}l=p>=0?n[p]:"/"}let c=gs(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ge=e=>e.join("/").replace(/\/\/+/g,"/"),js=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cs=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ss=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ws(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qr=["post","put","patch","delete"];new Set(Qr);const _s=["get",...Qr];new Set(_s);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ae.apply(this,arguments)}const Wt=x.createContext(null),Ps=x.createContext(null),qe=x.createContext(null),lt=x.createContext(null),je=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Lr=x.createContext(null);function Ue(){return x.useContext(lt)!=null}function ct(){return Ue()||z(!1),x.useContext(lt).location}function zr(e){x.useContext(qe).static||x.useLayoutEffect(e)}function Kr(){let{isDataRoute:e}=x.useContext(je);return e?qs():$s()}function $s(){Ue()||z(!1);let e=x.useContext(Wt),{basename:n,future:a,navigator:r}=x.useContext(qe),{matches:s}=x.useContext(je),{pathname:i}=ct(),o=JSON.stringify(qr(s,a.v7_relativeSplatPath)),l=x.useRef(!1);return zr(()=>{l.current=!0}),x.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=Ur(d,JSON.parse(o),i,f.relative==="path");e==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:ge([n,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[n,r,o,i,e])}function Rs(e,n){return Os(e,n)}function Os(e,n,a,r){Ue()||z(!1);let{navigator:s}=x.useContext(qe),{matches:i}=x.useContext(je),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ct(),f;if(n){var p;let h=typeof n=="string"?Pe(n):n;c==="/"||(p=h.pathname)!=null&&p.startsWith(c)||z(!1),f=h}else f=d;let v=f.pathname||"/",m=v;if(c!=="/"){let h=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(h.length).join("/")}let b=rs(e,{pathname:m}),u=Fs(b&&b.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:ge([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:ge([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,a,r);return n&&u?x.createElement(lt.Provider,{value:{location:Ae({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fe.Pop}},u):u}function ks(){let e=Ds(),n=ws(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:s},a):null,null)}const Is=x.createElement(ks,null);class Es extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?x.createElement(je.Provider,{value:this.props.routeContext},x.createElement(Lr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ts(e){let{routeContext:n,match:a,children:r}=e,s=x.useContext(Wt);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(je.Provider,{value:n},r)}function Fs(e,n,a,r){var s;if(n===void 0&&(n=[]),a===void 0&&(a=null),r===void 0&&(r=null),e==null){var i;if(!a)return null;if(a.errors)e=a.matches;else if((i=r)!=null&&i.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let o=e,l=(s=a)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||z(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(a&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:m}=a,b=p.route.loader&&v[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let m,b=!1,u=null,h=null;a&&(m=l&&p.route.id?l[p.route.id]:void 0,u=p.route.errorElement||Is,c&&(d<0&&v===0?(Us("route-fallback"),b=!0,h=null):d===v&&(b=!0,h=p.route.hydrateFallbackElement||null)));let y=n.concat(o.slice(0,v+1)),j=()=>{let w;return m?w=u:b?w=h:p.route.Component?w=x.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,x.createElement(Ts,{match:p,routeContext:{outlet:f,matches:y,isDataRoute:a!=null},children:w})};return a&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?x.createElement(Es,{location:a.location,revalidation:a.revalidation,component:u,error:m,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var Br=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Br||{}),Wr=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wr||{});function Ns(e){let n=x.useContext(Wt);return n||z(!1),n}function Ms(e){let n=x.useContext(Ps);return n||z(!1),n}function As(e){let n=x.useContext(je);return n||z(!1),n}function Yr(e){let n=As(),a=n.matches[n.matches.length-1];return a.route.id||z(!1),a.route.id}function Ds(){var e;let n=x.useContext(Lr),a=Ms(),r=Yr();return n!==void 0?n:(e=a.errors)==null?void 0:e[r]}function qs(){let{router:e}=Ns(Br.UseNavigateStable),n=Yr(Wr.UseNavigateStable),a=x.useRef(!1);return zr(()=>{a.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),a.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ae({fromRouteId:n},i)))},[e,n])}const cr={};function Us(e,n,a){cr[e]||(cr[e]=!0)}function Qs(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ur(e){let{to:n,replace:a,state:r,relative:s}=e;Ue()||z(!1);let{future:i,static:o}=x.useContext(qe),{matches:l}=x.useContext(je),{pathname:c}=ct(),d=Kr(),f=Ur(n,qr(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(f);return x.useEffect(()=>d(JSON.parse(p),{replace:a,state:r,relative:s}),[d,p,s,a,r]),null}function le(e){z(!1)}function Ls(e){let{basename:n="/",children:a=null,location:r,navigationType:s=fe.Pop,navigator:i,static:o=!1,future:l}=e;Ue()&&z(!1);let c=n.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Ae({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Pe(r));let{pathname:f="/",search:p="",hash:v="",state:m=null,key:b="default"}=r,u=x.useMemo(()=>{let h=Dr(f,c);return h==null?null:{location:{pathname:h,search:p,hash:v,state:m,key:b},navigationType:s}},[c,f,p,v,m,b,s]);return u==null?null:x.createElement(qe.Provider,{value:d},x.createElement(lt.Provider,{children:a,value:u}))}function zs(e){let{children:n,location:a}=e;return Rs(Dt(n),a)}new Promise(()=>{});function Dt(e,n){n===void 0&&(n=[]);let a=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...n,s];if(r.type===x.Fragment){a.push.apply(a,Dt(r.props.children,i));return}r.type!==le&&z(!1),!r.props.index||!r.props.children||z(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dt(r.props.children,i)),a.push(o)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ks="6";try{window.__reactRouterVersion=Ks}catch{}const Bs="startTransition",dr=jn[Bs];function Ws(e){let{basename:n,children:a,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=Zn({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=x.useCallback(p=>{d&&dr?dr(()=>c(p)):c(p)},[c,d]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>Qs(r),[r]),x.createElement(Ls,{basename:n,children:a,location:l.location,navigationType:l.action,navigator:o,future:r})}var hr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hr||(hr={}));var fr;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fr||(fr={}));function $e(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Sn(e,n)}var Re=function(){function e(){this.listeners=[]}var n=e.prototype;return n.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},e}(),Ze=typeof window>"u";function W(){}function Ys(e,n){return typeof e=="function"?e(n):e}function qt(e){return typeof e=="number"&&e>=0&&e!==1/0}function et(e){return Array.isArray(e)?e:[e]}function Vr(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ge(e,n,a){return Qe(e)?typeof n=="function"?k({},a,{queryKey:e,queryFn:n}):k({},n,{queryKey:e}):e}function Vs(e,n,a){return Qe(e)?typeof n=="function"?k({},a,{mutationKey:e,mutationFn:n}):k({},n,{mutationKey:e}):typeof e=="function"?k({},n,{mutationFn:e}):k({},e)}function de(e,n,a){return Qe(e)?[k({},n,{queryKey:e}),a]:[e||{},n]}function Hs(e,n){if(e===!0&&n===!0||e==null&&n==null)return"all";if(e===!1&&n===!1)return"none";var a=e??!n;return a?"active":"inactive"}function pr(e,n){var a=e.active,r=e.exact,s=e.fetching,i=e.inactive,o=e.predicate,l=e.queryKey,c=e.stale;if(Qe(l)){if(r){if(n.queryHash!==Yt(l,n.options))return!1}else if(!tt(n.queryKey,l))return!1}var d=Hs(a,i);if(d==="none")return!1;if(d!=="all"){var f=n.isActive();if(d==="active"&&!f||d==="inactive"&&f)return!1}return!(typeof c=="boolean"&&n.isStale()!==c||typeof s=="boolean"&&n.isFetching()!==s||o&&!o(n))}function mr(e,n){var a=e.exact,r=e.fetching,s=e.predicate,i=e.mutationKey;if(Qe(i)){if(!n.options.mutationKey)return!1;if(a){if(ve(n.options.mutationKey)!==ve(i))return!1}else if(!tt(n.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&n.state.status==="loading"!==r||s&&!s(n))}function Yt(e,n){var a=(n==null?void 0:n.queryKeyHashFn)||ve;return a(e)}function ve(e){var n=et(e);return Gs(n)}function Gs(e){return JSON.stringify(e,function(n,a){return Ut(a)?Object.keys(a).sort().reduce(function(r,s){return r[s]=a[s],r},{}):a})}function tt(e,n){return Hr(et(e),et(n))}function Hr(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(function(a){return!Hr(e[a],n[a])}):!1}function rt(e,n){if(e===n)return e;var a=Array.isArray(e)&&Array.isArray(n);if(a||Ut(e)&&Ut(n)){for(var r=a?e.length:Object.keys(e).length,s=a?n:Object.keys(n),i=s.length,o=a?[]:{},l=0,c=0;c<i;c++){var d=a?c:s[c];o[d]=rt(e[d],n[d]),o[d]===e[d]&&l++}return r===i&&l===r?e:o}return n}function Js(e,n){if(e&&!n||n&&!e)return!1;for(var a in e)if(e[a]!==n[a])return!1;return!0}function Ut(e){if(!vr(e))return!1;var n=e.constructor;if(typeof n>"u")return!0;var a=n.prototype;return!(!vr(a)||!a.hasOwnProperty("isPrototypeOf"))}function vr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qe(e){return typeof e=="string"||Array.isArray(e)}function Xs(e){return new Promise(function(n){setTimeout(n,e)})}function xr(e){Promise.resolve().then(e).catch(function(n){return setTimeout(function(){throw n})})}function Gr(){if(typeof AbortController=="function")return new AbortController}var Zs=function(e){$e(n,e);function n(){var r;return r=e.call(this)||this,r.setup=function(s){var i;if(!Ze&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var a=n.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},a.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},a.setFocused=function(s){this.focused=s,s&&this.onFocus()},a.onFocus=function(){this.listeners.forEach(function(s){s()})},a.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},n}(Re),Fe=new Zs,ea=function(e){$e(n,e);function n(){var r;return r=e.call(this)||this,r.setup=function(s){var i;if(!Ze&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var a=n.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},a.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},a.setOnline=function(s){this.online=s,s&&this.onOnline()},a.onOnline=function(){this.listeners.forEach(function(s){s()})},a.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},n}(Re),Je=new ea;function ta(e){return Math.min(1e3*Math.pow(2,e),3e4)}function nt(e){return typeof(e==null?void 0:e.cancel)=="function"}var Jr=function(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent};function Xe(e){return e instanceof Jr}var Xr=function(n){var a=this,r=!1,s,i,o,l;this.abort=n.abort,this.cancel=function(v){return s==null?void 0:s(v)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(v,m){o=v,l=m});var c=function(m){a.isResolved||(a.isResolved=!0,n.onSuccess==null||n.onSuccess(m),i==null||i(),o(m))},d=function(m){a.isResolved||(a.isResolved=!0,n.onError==null||n.onError(m),i==null||i(),l(m))},f=function(){return new Promise(function(m){i=m,a.isPaused=!0,n.onPause==null||n.onPause()}).then(function(){i=void 0,a.isPaused=!1,n.onContinue==null||n.onContinue()})},p=function v(){if(!a.isResolved){var m;try{m=n.fn()}catch(b){m=Promise.reject(b)}s=function(u){if(!a.isResolved&&(d(new Jr(u)),a.abort==null||a.abort(),nt(m)))try{m.cancel()}catch{}},a.isTransportCancelable=nt(m),Promise.resolve(m).then(c).catch(function(b){var u,h;if(!a.isResolved){var y=(u=n.retry)!=null?u:3,j=(h=n.retryDelay)!=null?h:ta,w=typeof j=="function"?j(a.failureCount,b):j,A=y===!0||typeof y=="number"&&a.failureCount<y||typeof y=="function"&&y(a.failureCount,b);if(r||!A){d(b);return}a.failureCount++,n.onFail==null||n.onFail(a.failureCount,b),Xs(w).then(function(){if(!Fe.isFocused()||!Je.isOnline())return f()}).then(function(){r?d(b):v()})}})}};p()},ra=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(a){a()},this.batchNotifyFn=function(a){a()}}var n=e.prototype;return n.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},n.schedule=function(r){var s=this;this.transactions?this.queue.push(r):xr(function(){s.notifyFn(r)})},n.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];s.schedule(function(){r.apply(void 0,o)})}},n.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&xr(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},n.setNotifyFunction=function(r){this.notifyFn=r},n.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),q=new ra,Zr=console;function st(){return Zr}function na(e){Zr=e}var sa=function(){function e(a){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=a.meta,this.scheduleGc()}var n=e.prototype;return n.setOptions=function(r){var s;this.options=k({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},n.setDefaultOptions=function(r){this.defaultOptions=r},n.scheduleGc=function(){var r=this;this.clearGcTimeout(),qt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},n.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},n.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},n.setData=function(r,s){var i,o,l=this.state.data,c=Ys(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=rt(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},n.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},n.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(W).catch(W):Promise.resolve()},n.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState(this.initialState)},n.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},n.isFetching=function(){return this.state.isFetching},n.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},n.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Vr(this.state.dataUpdatedAt,r)},n.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},n.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},n.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},n.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},n.fetch=function(r,s){var i=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var f=this.observers.find(function(j){return j.options.queryFn});f&&this.setOptions(f.options)}var p=et(this.queryKey),v=Gr(),m={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(v)return i.abortSignalConsumed=!0,v.signal}});var b=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},u={fetchOptions:s,options:this.options,queryKey:p,state:this.state,fetchFn:b,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var h;(h=this.options.behavior)==null||h.onFetch(u)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=u.fetchOptions)==null?void 0:l.meta)){var y;this.dispatch({type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta})}return this.retryer=new Xr({fn:u.fetchFn,abort:v==null||(c=v.abort)==null?void 0:c.bind(v),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){Xe(w)&&w.silent||i.dispatch({type:"error",error:w}),Xe(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),st().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay}),this.promise=this.retryer.promise,this.promise},n.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),q.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},n.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},n.reducer=function(r,s){var i,o;switch(s.type){case"failed":return k({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return k({},r,{isPaused:!0});case"continue":return k({},r,{isPaused:!1});case"fetch":return k({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return k({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=s.error;return Xe(l)&&l.revert&&this.revertState?k({},this.revertState):k({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return k({},r,{isInvalidated:!0});case"setState":return k({},r,s.state);default:return r}},e}(),aa=function(e){$e(n,e);function n(r){var s;return s=e.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var a=n.prototype;return a.build=function(s,i,o){var l,c=i.queryKey,d=(l=i.queryHash)!=null?l:Yt(c,i),f=this.get(d);return f||(f=new sa({cache:this,queryKey:c,queryHash:d,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(f)),f},a.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},a.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},a.clear=function(){var s=this;q.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},a.get=function(s){return this.queriesMap[s]},a.getAll=function(){return this.queries},a.find=function(s,i){var o=de(s,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return pr(l,c)})},a.findAll=function(s,i){var o=de(s,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return pr(l,c)}):this.queries},a.notify=function(s){var i=this;q.batch(function(){i.listeners.forEach(function(o){o(s)})})},a.onFocus=function(){var s=this;q.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},a.onOnline=function(){var s=this;q.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},n}(Re),ia=function(){function e(a){this.options=k({},a.defaultOptions,a.options),this.mutationId=a.mutationId,this.mutationCache=a.mutationCache,this.observers=[],this.state=a.state||en(),this.meta=a.meta}var n=e.prototype;return n.setState=function(r){this.dispatch({type:"setState",state:r})},n.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},n.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},n.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(W).catch(W)):Promise.resolve()},n.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},n.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){s=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),st().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},n.executeMutation=function(){var r=this,s;return this.retryer=new Xr({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},n.dispatch=function(r){var s=this;this.state=oa(this.state,r),q.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},e}();function en(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function oa(e,n){switch(n.type){case"failed":return k({},e,{failureCount:e.failureCount+1});case"pause":return k({},e,{isPaused:!0});case"continue":return k({},e,{isPaused:!1});case"loading":return k({},e,{context:n.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:n.variables});case"success":return k({},e,{data:n.data,error:null,status:"success",isPaused:!1});case"error":return k({},e,{data:void 0,error:n.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return k({},e,n.state);default:return e}}var la=function(e){$e(n,e);function n(r){var s;return s=e.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var a=n.prototype;return a.build=function(s,i,o){var l=new ia({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},a.add=function(s){this.mutations.push(s),this.notify(s)},a.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},a.clear=function(){var s=this;q.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},a.getAll=function(){return this.mutations},a.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return mr(s,i)})},a.findAll=function(s){return this.mutations.filter(function(i){return mr(s,i)})},a.notify=function(s){var i=this;q.batch(function(){i.listeners.forEach(function(o){o(s)})})},a.onFocus=function(){this.resumePausedMutations()},a.onOnline=function(){this.resumePausedMutations()},a.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return q.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(W)})},Promise.resolve())})},n}(Re);function ca(){return{onFetch:function(n){n.fetchFn=function(){var a,r,s,i,o,l,c=(a=n.fetchOptions)==null||(r=a.meta)==null?void 0:r.refetchPage,d=(s=n.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,f=d==null?void 0:d.pageParam,p=(d==null?void 0:d.direction)==="forward",v=(d==null?void 0:d.direction)==="backward",m=((o=n.state.data)==null?void 0:o.pages)||[],b=((l=n.state.data)==null?void 0:l.pageParams)||[],u=Gr(),h=u==null?void 0:u.signal,y=b,j=!1,w=n.options.queryFn||function(){return Promise.reject("Missing queryFn")},A=function(C,E,J,ke){return y=ke?[E].concat(y):[].concat(y,[E]),ke?[J].concat(C):[].concat(C,[J])},F=function(C,E,J,ke){if(j)return Promise.reject("Cancelled");if(typeof J>"u"&&!E&&C.length)return Promise.resolve(C);var ue={queryKey:n.queryKey,signal:h,pageParam:J,meta:n.meta},pe=w(ue),He=Promise.resolve(pe).then(function(gn){return A(C,J,gn,ke)});if(nt(pe)){var _t=He;_t.cancel=pe.cancel}return He},N;if(!m.length)N=F([]);else if(p){var re=typeof f<"u",ie=re?f:yr(n.options,m);N=F(m,re,ie)}else if(v){var oe=typeof f<"u",K=oe?f:ua(n.options,m);N=F(m,oe,K,!0)}else(function(){y=[];var $=typeof n.options.getNextPageParam>"u",C=c&&m[0]?c(m[0],0,m):!0;N=C?F([],$,b[0]):Promise.resolve(A([],b[0],m[0]));for(var E=function(ue){N=N.then(function(pe){var He=c&&m[ue]?c(m[ue],ue,m):!0;if(He){var _t=$?b[ue]:yr(n.options,pe);return F(pe,$,_t)}return Promise.resolve(A(pe,b[ue],m[ue]))})},J=1;J<m.length;J++)E(J)})();var g=N.then(function($){return{pages:$,pageParams:y}}),S=g;return S.cancel=function(){j=!0,u==null||u.abort(),nt(N)&&N.cancel()},g}}}}function yr(e,n){return e.getNextPageParam==null?void 0:e.getNextPageParam(n[n.length-1],n)}function ua(e,n){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(n[0],n)}var da=function(){function e(a){a===void 0&&(a={}),this.queryCache=a.queryCache||new aa,this.mutationCache=a.mutationCache||new la,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var n=e.prototype;return n.mount=function(){var r=this;this.unsubscribeFocus=Fe.subscribe(function(){Fe.isFocused()&&Je.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Je.subscribe(function(){Fe.isFocused()&&Je.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},n.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},n.isFetching=function(r,s){var i=de(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},n.isMutating=function(r){return this.mutationCache.findAll(k({},r,{fetching:!0})).length},n.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},n.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,l=o.data;return[i,l]})},n.setQueryData=function(r,s,i){var o=Ge(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(s,i)},n.setQueriesData=function(r,s,i){var o=this;return q.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,s,i)]})})},n.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},n.removeQueries=function(r,s){var i=de(r,s),o=i[0],l=this.queryCache;q.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},n.resetQueries=function(r,s,i){var o=this,l=de(r,s,i),c=l[0],d=l[1],f=this.queryCache,p=k({},c,{active:!0});return q.batch(function(){return f.findAll(c).forEach(function(v){v.reset()}),o.refetchQueries(p,d)})},n.cancelQueries=function(r,s,i){var o=this,l=de(r,s,i),c=l[0],d=l[1],f=d===void 0?{}:d;typeof f.revert>"u"&&(f.revert=!0);var p=q.batch(function(){return o.queryCache.findAll(c).map(function(v){return v.cancel(f)})});return Promise.all(p).then(W).catch(W)},n.invalidateQueries=function(r,s,i){var o,l,c,d=this,f=de(r,s,i),p=f[0],v=f[1],m=k({},p,{active:(o=(l=p.refetchActive)!=null?l:p.active)!=null?o:!0,inactive:(c=p.refetchInactive)!=null?c:!1});return q.batch(function(){return d.queryCache.findAll(p).forEach(function(b){b.invalidate()}),d.refetchQueries(m,v)})},n.refetchQueries=function(r,s,i){var o=this,l=de(r,s,i),c=l[0],d=l[1],f=q.batch(function(){return o.queryCache.findAll(c).map(function(v){return v.fetch(void 0,k({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),p=Promise.all(f).then(W);return d!=null&&d.throwOnError||(p=p.catch(W)),p},n.fetchQuery=function(r,s,i){var o=Ge(r,s,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},n.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(W).catch(W)},n.fetchInfiniteQuery=function(r,s,i){var o=Ge(r,s,i);return o.behavior=ca(),this.fetchQuery(o)},n.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(W).catch(W)},n.cancelMutations=function(){var r=this,s=q.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(W).catch(W)},n.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},n.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},n.getQueryCache=function(){return this.queryCache},n.getMutationCache=function(){return this.mutationCache},n.getDefaultOptions=function(){return this.defaultOptions},n.setDefaultOptions=function(r){this.defaultOptions=r},n.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return ve(r)===ve(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},n.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return tt(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},n.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return ve(r)===ve(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},n.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return tt(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},n.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=k({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Yt(s.queryKey,s)),s},n.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},n.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:k({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},n.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),ha=function(e){$e(n,e);function n(r,s){var i;return i=e.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var a=n.prototype;return a.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},a.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),gr(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},a.onUnsubscribe=function(){this.listeners.length||this.destroy()},a.shouldFetchOnReconnect=function(){return Qt(this.currentQuery,this.options,this.options.refetchOnReconnect)},a.shouldFetchOnWindowFocus=function(){return Qt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},a.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},a.setOptions=function(s,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&br(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},a.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},a.getCurrentResult=function(){return this.currentResult},a.trackResult=function(s,i){var o=this,l={},c=function(f){o.trackedProps.includes(f)||o.trackedProps.push(f)};return Object.keys(s).forEach(function(d){Object.defineProperty(l,d,{configurable:!1,enumerable:!0,get:function(){return c(d),s[d]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),l},a.getNextResult=function(s){var i=this;return new Promise(function(o,l){var c=i.subscribe(function(d){d.isFetching||(c(),d.isError&&(s!=null&&s.throwOnError)?l(d.error):o(d))})})},a.getCurrentQuery=function(){return this.currentQuery},a.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},a.refetch=function(s){return this.fetch(k({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},a.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},a.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},a.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(W)),i},a.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(Ze||this.currentResult.isStale||!qt(this.options.staleTime))){var i=Vr(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},a.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},a.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(Ze||this.options.enabled===!1||!qt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Fe.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},a.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},a.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},a.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},a.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},a.createResult=function(s,i){var o=this.currentQuery,l=this.options,c=this.currentResult,d=this.currentResultState,f=this.currentResultOptions,p=s!==o,v=p?s.state:this.currentQueryInitialState,m=p?this.currentResult:this.previousQueryResult,b=s.state,u=b.dataUpdatedAt,h=b.error,y=b.errorUpdatedAt,j=b.isFetching,w=b.status,A=!1,F=!1,N;if(i.optimisticResults){var re=this.hasListeners(),ie=!re&&gr(s,i),oe=re&&br(s,o,i,l);(ie||oe)&&(j=!0,u||(w="loading"))}if(i.keepPreviousData&&!b.dataUpdateCount&&(m!=null&&m.isSuccess)&&w!=="error")N=m.data,u=m.dataUpdatedAt,w=m.status,A=!0;else if(i.select&&typeof b.data<"u")if(c&&b.data===(d==null?void 0:d.data)&&i.select===this.selectFn)N=this.selectResult;else try{this.selectFn=i.select,N=i.select(b.data),i.structuralSharing!==!1&&(N=rt(c==null?void 0:c.data,N)),this.selectResult=N,this.selectError=null}catch(S){st().error(S),this.selectError=S}else N=b.data;if(typeof i.placeholderData<"u"&&typeof N>"u"&&(w==="loading"||w==="idle")){var K;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(f==null?void 0:f.placeholderData))K=c.data;else if(K=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof K<"u")try{K=i.select(K),i.structuralSharing!==!1&&(K=rt(c==null?void 0:c.data,K)),this.selectError=null}catch(S){st().error(S),this.selectError=S}typeof K<"u"&&(w="success",N=K,F=!0)}this.selectError&&(h=this.selectError,N=this.selectResult,y=Date.now(),w="error");var g={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:N,dataUpdatedAt:u,error:h,errorUpdatedAt:y,failureCount:b.fetchFailureCount,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>v.dataUpdateCount||b.errorUpdateCount>v.errorUpdateCount,isFetching:j,isRefetching:j&&w!=="loading",isLoadingError:w==="error"&&b.dataUpdatedAt===0,isPlaceholderData:F,isPreviousData:A,isRefetchError:w==="error"&&b.dataUpdatedAt!==0,isStale:Vt(s,i),refetch:this.refetch,remove:this.remove};return g},a.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var d=l==="tracked"?this.trackedProps:l;return Object.keys(s).some(function(f){var p=f,v=s[p]!==i[p],m=d==null?void 0:d.some(function(u){return u===f}),b=c==null?void 0:c.some(function(u){return u===f});return v&&!b&&(!d||m)})},a.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Js(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(k({},o,s))}},a.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},a.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Xe(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},a.notify=function(s){var i=this;q.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},n}(Re);function fa(e,n){return n.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&n.retryOnMount===!1)}function gr(e,n){return fa(e,n)||e.state.dataUpdatedAt>0&&Qt(e,n,n.refetchOnMount)}function Qt(e,n,a){if(n.enabled!==!1){var r=typeof a=="function"?a(e):a;return r==="always"||r!==!1&&Vt(e,n)}return!1}function br(e,n,a,r){return a.enabled!==!1&&(e!==n||r.enabled===!1)&&(!a.suspense||e.state.status!=="error")&&Vt(e,a)}function Vt(e,n){return e.isStaleByTime(n.staleTime)}var pa=function(e){$e(n,e);function n(r,s){var i;return i=e.call(this)||this,i.client=r,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var a=n.prototype;return a.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},a.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},a.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},a.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},a.getCurrentResult=function(){return this.currentResult},a.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},a.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,k({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},a.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:en(),i=k({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},a.notify=function(s){var i=this;q.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},n}(Re),ma=Cn.unstable_batchedUpdates;q.setBatchNotifyFunction(ma);var va=console;na(va);var jr=Q.createContext(void 0),tn=Q.createContext(!1);function rn(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=jr),window.ReactQueryClientContext):jr}var Le=function(){var n=Q.useContext(rn(Q.useContext(tn)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},xa=function(n){var a=n.client,r=n.contextSharing,s=r===void 0?!1:r,i=n.children;Q.useEffect(function(){return a.mount(),function(){a.unmount()}},[a]);var o=rn(s);return Q.createElement(tn.Provider,{value:s},Q.createElement(o.Provider,{value:a},i))};function ya(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var ga=Q.createContext(ya()),ba=function(){return Q.useContext(ga)};function nn(e,n,a){return typeof n=="function"?n.apply(void 0,a):typeof n=="boolean"?n:!!e}function te(e,n,a){var r=Q.useRef(!1),s=Q.useState(0),i=s[1],o=Vs(e,n,a),l=Le(),c=Q.useRef();c.current?c.current.setOptions(o):c.current=new pa(l,o);var d=c.current.getCurrentResult();Q.useEffect(function(){r.current=!0;var p=c.current.subscribe(q.batchCalls(function(){r.current&&i(function(v){return v+1})}));return function(){r.current=!1,p()}},[]);var f=Q.useCallback(function(p,v){c.current.mutate(p,v).catch(W)},[]);if(d.error&&nn(void 0,c.current.options.useErrorBoundary,[d.error]))throw d.error;return k({},d,{mutate:f,mutateAsync:d.mutate})}function ja(e,n){var a=Q.useRef(!1),r=Q.useState(0),s=r[1],i=Le(),o=ba(),l=i.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=q.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=q.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=q.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=Q.useState(function(){return new n(i,l)}),d=c[0],f=d.getOptimisticResult(l);if(Q.useEffect(function(){a.current=!0,o.clearReset();var p=d.subscribe(q.batchCalls(function(){a.current&&s(function(v){return v+1})}));return d.updateResult(),function(){a.current=!1,p()}},[o,d]),Q.useEffect(function(){d.setOptions(l,{listeners:!1})},[l,d]),l.suspense&&f.isLoading)throw d.fetchOptimistic(l).then(function(p){var v=p.data;l.onSuccess==null||l.onSuccess(v),l.onSettled==null||l.onSettled(v,null)}).catch(function(p){o.clearReset(),l.onError==null||l.onError(p),l.onSettled==null||l.onSettled(void 0,p)});if(f.isError&&!o.isReset()&&!f.isFetching&&nn(l.suspense,l.useErrorBoundary,[f.error,d.getCurrentQuery()]))throw f.error;return l.notifyOnChangeProps==="tracked"&&(f=d.trackResult(f,l)),f}function xe(e,n,a){var r=Ge(e,n,a);return ja(r,ha)}var ut={},sn={exports:{}};(function(e){function n(a){return a&&a.__esModule?a:{default:a}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(sn);var ae=sn.exports,dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.default=void 0;var Ca={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};dt.default=Ca;var ht={},ze={},ft={},an={exports:{}},on={exports:{}},ln={exports:{}},cn={exports:{}};(function(e){function n(a){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,n(a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(cn);var un=cn.exports,dn={exports:{}};(function(e){var n=un.default;function a(r,s){if(n(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(dn);var Sa=dn.exports;(function(e){var n=un.default,a=Sa;function r(s){var i=a(s,"string");return n(i)=="symbol"?i:i+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(ln);var wa=ln.exports;(function(e){var n=wa;function a(r,s,i){return(s=n(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i,r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(on);var _a=on.exports;(function(e){var n=_a;function a(s,i){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);i&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),o.push.apply(o,l)}return o}function r(s){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?a(Object(o),!0).forEach(function(l){n(s,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(o,l))})}return s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(an);var Ht=an.exports,Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.commonLocale=void 0;Oe.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Pa=ae.default;Object.defineProperty(ft,"__esModule",{value:!0});ft.default=void 0;var Cr=Pa(Ht),$a=Oe,Ra=(0,Cr.default)((0,Cr.default)({},$a.commonLocale),{},{locale:"zh_CN",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",yearFormat:"YYYY",cellDateFormat:"D",monthBeforeYear:!1});ft.default=Ra;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;const Oa={placeholder:"",rangePlaceholder:["",""]};Ke.default=Oa;var hn=ae.default;Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var ka=hn(ft),Ia=hn(Ke);const fn={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},ka.default),timePickerLocale:Object.assign({},Ia.default)};fn.lang.ok="";ze.default=fn;var Ea=ae.default;Object.defineProperty(ht,"__esModule",{value:!0});ht.default=void 0;var Ta=Ea(ze);ht.default=Ta.default;var pt=ae.default;Object.defineProperty(ut,"__esModule",{value:!0});ut.default=void 0;var Fa=pt(dt),Na=pt(ht),Ma=pt(ze),Aa=pt(Ke);const X="${label}${type}",Da={locale:"zh-cn",Pagination:Fa.default,DatePicker:Ma.default,TimePicker:Aa.default,Calendar:Na.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{cancelText:"",okText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",deselectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:X,method:X,array:X,object:X,number:X,date:X,boolean:X,integer:X,float:X,regexp:X,email:X,url:X,hex:X},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};ut.default=Da;var qa=ut;const Sr=Lt(qa);var mt={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.default=void 0;var Ua={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};vt.default=Ua;var xt={},Be={},yt={},Qa=ae.default;Object.defineProperty(yt,"__esModule",{value:!0});yt.default=void 0;var wr=Qa(Ht),La=Oe,za=(0,wr.default)((0,wr.default)({},La.commonLocale),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});yt.default=za;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;const Ka={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};We.default=Ka;var pn=ae.default;Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Ba=pn(yt),Wa=pn(We);const Ya={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Ba.default),timePickerLocale:Object.assign({},Wa.default)};Be.default=Ya;var Va=ae.default;Object.defineProperty(xt,"__esModule",{value:!0});xt.default=void 0;var Ha=Va(Be);xt.default=Ha.default;var gt=ae.default;Object.defineProperty(mt,"__esModule",{value:!0});mt.default=void 0;var Ga=gt(vt),Ja=gt(xt),Xa=gt(Be),Za=gt(We);const Z="${label} is not a valid ${type}",ei={locale:"en",Pagination:Ga.default,DatePicker:Xa.default,TimePicker:Za.default,Calendar:Ja.default,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Z,method:Z,array:Z,object:Z,number:Z,date:Z,boolean:Z,integer:Z,float:Z,regexp:Z,email:Z,url:Z,hex:Z},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};mt.default=ei;var ti=mt;const ri=Lt(ti);var bt={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.default=void 0;var ni={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};jt.default=ni;var Ct={},Ye={},St={},si=ae.default;Object.defineProperty(St,"__esModule",{value:!0});St.default=void 0;var _r=si(Ht),ai=Oe,ii=(0,_r.default)((0,_r.default)({},ai.commonLocale),{},{locale:"zh_TW",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",yearFormat:"YYYY",dateFormat:"YYYYMD",dateTimeFormat:"YYYYMD HHmmss",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",cellDateFormat:"D",monthBeforeYear:!1});St.default=ii;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;const oi={placeholder:"",rangePlaceholder:["",""]};Ve.default=oi;var mn=ae.default;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var li=mn(St),ci=mn(Ve);const vn={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},li.default),timePickerLocale:Object.assign({},ci.default)};vn.lang.ok=" ";Ye.default=vn;var ui=ae.default;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.default=void 0;var di=ui(Ye);Ct.default=di.default;var wt=ae.default;Object.defineProperty(bt,"__esModule",{value:!0});bt.default=void 0;var hi=wt(jt),fi=wt(Ct),pi=wt(Ye),mi=wt(Ve);const ee="${label}${type}",vi={locale:"zh-tw",Pagination:hi.default,DatePicker:pi.default,TimePicker:mi.default,Calendar:fi.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{okText:"",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:ee,method:ee,array:ee,object:ee,number:ee,date:ee,boolean:ee,integer:ee,float:ee,regexp:ee,email:ee,url:ee,hex:ee},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};bt.default=vi;var xi=bt;const yi=Lt(xi),gi={};function bi(e,n){let a;try{a=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=a.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>a.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>a.removeItem(s)}}const De=e=>n=>{try{const a=e(n);return a instanceof Promise?a:{then(r){return De(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return De(r)(a)}}}},ji=(e,n)=>(a,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,y)=>({...y,...h}),...n},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...h)},r,s);const f=De(i.serialize),p=()=>{const h=i.partialize({...r()});let y;const j=f({state:h,version:i.version}).then(w=>d.setItem(i.name,w)).catch(w=>{y=w});if(y)throw y;return j},v=s.setState;s.setState=(h,y)=>{v(h,y),p()};const m=e((...h)=>{a(...h),p()},r,s);let b;const u=()=>{var h;if(!d)return;o=!1,l.forEach(j=>j(r()));const y=((h=i.onRehydrateStorage)==null?void 0:h.call(i,r()))||void 0;return De(d.getItem.bind(d))(i.name).then(j=>{if(j)return i.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate)return i.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var w;return b=i.merge(j,(w=r())!=null?w:m),a(b,!0),p()}).then(()=>{y==null||y(b,void 0),o=!0,c.forEach(j=>j(b))}).catch(j=>{y==null||y(void 0,j)})};return s.persist={setOptions:h=>{i={...i,...h},h.getStorage&&(d=h.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>u(),hasHydrated:()=>o,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},u(),b||m},Ci=(e,n)=>(a,r,s)=>{let i={storage:bi(()=>localStorage),partialize:u=>u,version:0,merge:(u,h)=>({...h,...u}),...n},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...u)},r,s);const f=()=>{const u=i.partialize({...r()});return d.setItem(i.name,{state:u,version:i.version})},p=s.setState;s.setState=(u,h)=>{p(u,h),f()};const v=e((...u)=>{a(...u),f()},r,s);s.getInitialState=()=>v;let m;const b=()=>{var u,h;if(!d)return;o=!1,l.forEach(j=>{var w;return j((w=r())!=null?w:v)});const y=((h=i.onRehydrateStorage)==null?void 0:h.call(i,(u=r())!=null?u:v))||void 0;return De(d.getItem.bind(d))(i.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate)return[!0,i.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var w;const[A,F]=j;if(m=i.merge(F,(w=r())!=null?w:v),a(m,!0),A)return f()}).then(()=>{y==null||y(m,void 0),m=r(),o=!0,c.forEach(j=>j(m))}).catch(j=>{y==null||y(void 0,j)})};return s.persist={setOptions:u=>{i={...i,...u},u.storage&&(d=u.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},i.skipHydration||b(),m||v},Si=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((gi?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ji(e,n)):Ci(e,n),xn=Si,_e=Er()(xn(e=>({sidebarCollapsed:!1,theme:"light",language:"zh-CN",currentPage:"/",toggleSidebar:()=>e(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>e({theme:n}),setLanguage:n=>e({language:n})}),{name:"app-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme,language:e.language})})),yn=Er()(xn(e=>({token:null,user:null,isAuthenticated:!1,login:(n,a)=>{console.log("authStore.login called",{token:n,user:a}),e({token:n,user:a,isAuthenticated:!0}),console.log("Login successful, state updated")},logout:()=>{console.log("authStore.logout called"),e({token:null,user:null,isAuthenticated:!1})},updateUser:n=>{e(a=>({user:a.user?{...a.user,...n}:null}))}}),{name:"auth-storage"})),{Header:wi}=we,_i=()=>{const{sidebarCollapsed:e,toggleSidebar:n}=_e(),{logout:a,user:r}=yn(),s=[{key:"profile",icon:t.jsx(Tt,{}),label:""},{key:"settings",icon:t.jsx($r,{}),label:""},{key:"divider",type:"divider"},{key:"logout",icon:t.jsx(Rn,{}),label:"",danger:!0}],i=({key:l})=>{switch(l){case"logout":a(),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/";break;case"settings":window.location.href="/settings";break}},{theme:o}=_e();return t.jsxs(wi,{className:"dark:bg-gray-900 dark:border-gray-700",style:{backgroundColor:o==="dark"?"#111827":"#ffffff",boxShadow:"0 1px 4px rgba(0,21,41,.08)",borderBottom:`1px solid ${o==="dark"?"#374151":"#e8e8e8"}`,padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between",height:64,position:"fixed",top:0,left:0,right:0,zIndex:10},children:[t.jsx("div",{className:"flex items-center",children:t.jsx(R,{type:"text",icon:e?t.jsx(wn,{}):t.jsx(_n,{}),onClick:n,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs(G,{children:[t.jsx("span",{className:o==="dark"?"text-gray-300":"text-gray-600",children:""}),t.jsx(Pn,{menu:{items:s,onClick:i},placement:"bottomRight",children:t.jsxs(R,{type:"text",className:"flex items-center",children:[t.jsx($n,{size:"small",icon:t.jsx(Tt,{}),className:o==="dark"?"bg-gray-600 mr-2":"bg-primary-500 mr-2"}),t.jsx("span",{className:o==="dark"?"text-gray-300":"text-gray-700",children:(r==null?void 0:r.username)||""})]})})]})})]})},{Sider:Pi}=we,$i=()=>{const{sidebarCollapsed:e,theme:n}=_e(),a=ct(),r=Kr(),s=t.jsx("div",{className:`flex items-center justify-center h-16 border-b ${n==="dark"?"border-gray-700":"border-gray-200"}`,children:t.jsx("h1",{className:n==="dark"?"text-xl font-bold text-gray-100":"text-xl font-bold text-gray-800",children:"OneKeyRelease"})}),i=[{key:"/",icon:t.jsx(kn,{}),label:""},{key:"/tasks",icon:t.jsx(at,{}),label:""},{key:"content",icon:t.jsx(Pt,{}),label:"",children:[{key:"/content",icon:t.jsx(Pt,{}),label:""},{key:"/content/history",icon:t.jsx(In,{}),label:""}]},{key:"/templates",icon:t.jsx(Pt,{}),label:""},{key:"/state-machine",icon:t.jsx(En,{}),label:""},{key:"/accounts",icon:t.jsx(Tt,{}),label:""},{key:"/settings",icon:t.jsx($r,{}),label:""}],o=({key:l})=>{r(l)};return t.jsx(Pi,{trigger:null,collapsible:!0,collapsed:e,className:n==="dark"?"fixed left-0 bg-gray-900 border-r border-gray-700":"fixed left-0 bg-white border-r border-gray-200",style:{overflow:"auto",height:"calc(100vh - 64px)",position:"fixed",left:0,top:64,bottom:0,backgroundColor:n==="dark"?"#111827":"#ffffff",zIndex:5},theme:n,children:t.jsxs("div",{className:"h-full flex flex-col",children:[!e&&s,t.jsx("div",{className:"flex-1",children:t.jsx(On,{mode:"inline",selectedKeys:[a.pathname],items:i,onClick:o,className:"border-none"})})]})})},P=Wn.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),Ri=()=>{var e;try{const n=localStorage.getItem("auth-storage");if(n)return((e=JSON.parse(n).state)==null?void 0:e.token)||null}catch(n){console.error("Failed to get token from storage:",n)}return null};P.interceptors.request.use(e=>{try{e.headers||(e.headers={});const n=Ri();n&&typeof n=="string"&&n.trim()!==""&&(e.headers.Authorization=`Bearer ${n}`)}catch(n){console.warn("token:",n)}return e},e=>Promise.reject(e));P.interceptors.response.use(e=>e.data,e=>{var n;try{((n=e==null?void 0:e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("auth-storage"),window.location.pathname.includes("/auth")||window.location.reload())}catch(a){console.warn(":",a)}return Promise.reject(e)});const M={tasks:{list:e=>P.get("/tasks",{params:e}),create:e=>P.post("/tasks",e),get:e=>P.get(`/tasks/${e}`),update:(e,n)=>P.put(`/tasks/${e}`,n),delete:e=>P.delete(`/tasks/${e}`),start:e=>P.post(`/tasks/${e}/start`),stop:e=>P.post(`/tasks/${e}/stop`)},content:{generate:e=>P.post("/content/generate",e),generateImages:e=>P.post("/content/generate/images",e),generateVideo:e=>P.post("/content/generate/video",e),optimize:e=>P.post("/content/optimize",e),batchGenerate:e=>P.post("/content/batch/generate",e),manual:e=>P.post("/content/manual",e),list:e=>P.get("/content",{params:e}),get:e=>P.get(`/content/${e}`),update:(e,n)=>P.put(`/content/${e}`,n),delete:e=>P.delete(`/content/${e}`),publish:e=>P.post("/content/publish",e),saveImages:(e,n)=>P.post(`/content/${e}/images`,n),getPlatforms:()=>P.get("/content/platforms"),getStyles:()=>P.get("/content/styles")},accounts:{list:()=>P.get("/accounts"),create:e=>P.post("/accounts",e),update:(e,n)=>P.put(`/accounts/${e}`,n),delete:e=>P.delete(`/accounts/${e}`),test:e=>P.post(`/accounts/${e}/test`)},auth:{login:e=>P.post("/auth/login",e),register:e=>P.post("/auth/register",e),logout:()=>P.post("/auth/logout"),profile:()=>P.get("/auth/me")},mobile:{info:()=>P.get("/mobile"),devices:{list:()=>P.get("/mobile/devices"),register:e=>P.post("/mobile/device/register",e),status:e=>P.get(`/mobile/device/status/${e}`)},commands:{send:e=>P.post("/mobile/command",e),status:e=>P.get(`/mobile/status/${e}`)},content:{list:(e,n)=>P.get(`/mobile/content/${e}`,{params:n}),download:e=>P.get(`/mobile/content/download/${e}`)}},templates:{list:e=>P.get("/templates",{params:e}),create:e=>P.post("/templates",e),get:e=>P.get(`/templates/${e}`),update:(e,n)=>P.put(`/templates/${e}`,n),delete:e=>P.delete(`/templates/${e}`),favorite:e=>P.post(`/templates/${e}/favorite`),unfavorite:e=>P.delete(`/templates/${e}/favorite`),favorites:()=>P.get("/templates/favorites/list"),isFavorite:e=>P.get(`/templates/${e}/favorite`)}},{Title:Ie,Text:Y}=be,{Option:Pr}=L,Oi=()=>{const{theme:e}=_e(),[n,a]=x.useState(!1),[r]=_.useForm(),s=Le(),i=te(u=>M.mobile.devices.register(u),{onSuccess:()=>{O.success(""),a(!1),r.resetFields(),s.invalidateQueries("mobile-devices"),s.invalidateQueries("mobile-stats")},onError:u=>{var h,y;O.error(`: ${((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.message)||u.message}`)}}),o=async u=>{try{await i.mutateAsync({deviceId:u.deviceId,deviceName:u.deviceName,platform:u.platform,version:u.version||"1.0.0"})}catch(h){console.error(":",h)}},l=()=>{const u=Date.now().toString(36),h=Math.random().toString(36).substring(2,8);return`device_${u}_${h}`},{data:c=[]}=xe("dashboard-stats",async()=>{const u=await M.tasks.list();return Array.isArray(u.data)?u.data:[]}),{data:d=[]}=xe("recent-tasks",async()=>{const u=await M.tasks.list({page:1,pageSize:5,sort:"createdAt_desc"});return Array.isArray(u.data)?u.data:[]}),{data:f=[]}=xe("mobile-devices",async()=>{try{const u=await M.mobile.devices.list();return Array.isArray(u.data)?u.data:[]}catch(u){return console.error(":",u),[]}}),{data:p={activeTasks:0,completedTasks:0}}=xe("mobile-stats",async()=>{var u,h;try{const y=f;let j=0,w=0;for(const A of y)try{const F=await M.mobile.devices.status(A.deviceId);F.data&&(j+=((u=F.data.data)==null?void 0:u.activeTasks)||0,w+=((h=F.data.data)==null?void 0:h.completedTasks)||0)}catch(F){console.error(` ${A.deviceId} :`,F)}return{activeTasks:j,completedTasks:w}}catch(y){return console.error(":",y),{activeTasks:0,completedTasks:0}}},{enabled:f.length>0}),v={total:(c==null?void 0:c.length)||0,running:(c==null?void 0:c.filter(u=>u.status==="running").length)||0,completed:(c==null?void 0:c.filter(u=>u.status==="completed").length)||0,failed:(c==null?void 0:c.filter(u=>u.status==="failed").length)||0},m={totalDevices:f.length,onlineDevices:f.filter(u=>u.isOnline).length,activeTasks:p.activeTasks,completedTasks:p.completedTasks},b=v.total>0?v.completed/v.total*100:0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Ie,{level:2,children:""}),t.jsx(Y,{type:"secondary",children:""})]}),t.jsxs(H,{gutter:[16,16],children:[t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsx(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsx(Ce,{title:"",value:v.total,prefix:t.jsx(Tn,{}),valueStyle:{color:"#3b82f6"}})})}),t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsx(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsx(Ce,{title:"",value:v.running,prefix:t.jsx(at,{}),valueStyle:{color:"#f59e0b"}})})}),t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsx(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsx(Ce,{title:"",value:v.completed,prefix:t.jsx(Rr,{}),valueStyle:{color:"#10b981"}})})}),t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsx(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsx(Ce,{title:"",value:v.failed,prefix:t.jsx(Ft,{}),valueStyle:{color:"#ef4444"}})})}),t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsxs(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:[t.jsx(Ce,{title:"",value:m.totalDevices,prefix:t.jsx($t,{}),valueStyle:{color:"#8b5cf6"}}),t.jsx("div",{className:"mt-2",children:t.jsxs(se,{color:m.onlineDevices>0?"green":"default",children:[m.onlineDevices>0?t.jsx(Fn,{}):t.jsx(Nn,{}),m.onlineDevices," "]})})]})}),t.jsx(I,{xs:24,sm:12,lg:4,children:t.jsxs(T,{className:e==="dark"?"bg-gray-800 border-gray-700":"",children:[t.jsx(Ce,{title:"",value:m.activeTasks+m.completedTasks,prefix:t.jsx(Mn,{}),valueStyle:{color:"#06b6d4"}}),t.jsx("div",{className:"mt-2",children:t.jsxs(Y,{type:"secondary",className:"text-xs",children:[": ",m.activeTasks," | : ",m.completedTasks]})})]})})]}),t.jsxs(H,{gutter:[16,16],children:[t.jsx(I,{xs:24,lg:8,children:t.jsx(T,{title:"",className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsxs("div",{className:"text-center",children:[t.jsx(An,{type:"circle",percent:Math.round(b),strokeColor:{"0%":"#3b82f6","100%":"#10b981"}}),t.jsx("div",{className:"mt-4",children:t.jsxs(Y,{type:"secondary",children:[" ",v.completed," / ",v.total," "]})})]})})}),t.jsx(I,{xs:24,lg:8,children:t.jsx(T,{title:"",className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsx(Se,{dataSource:d||[],renderItem:u=>t.jsx(Se.Item,{children:t.jsx(Se.Item.Meta,{title:u.title,description:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Y,{type:"secondary",children:u.description}),t.jsx(Y,{type:u.status==="completed"?"success":u.status==="failed"?"danger":u.status==="running"?"warning":"secondary",children:u.status==="completed"?"":u.status==="failed"?"":u.status==="running"?"":""})]})})})})})}),t.jsx(I,{xs:24,lg:8,children:t.jsx(T,{title:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:""}),t.jsx(R,{type:"primary",size:"small",icon:t.jsx(Ne,{}),onClick:()=>{r.setFieldsValue({deviceId:l(),deviceName:`_${new Date().getHours()}${new Date().getMinutes()}`,platform:"android",version:"1.0.0"}),a(!0)},children:""})]}),className:e==="dark"?"bg-gray-800 border-gray-700":"",children:f.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx($t,{style:{fontSize:48,color:"#d1d5db"}}),t.jsx("div",{className:"mt-4",children:t.jsx(Y,{type:"secondary",children:""})}),t.jsx("div",{className:"mt-4",children:t.jsx(R,{type:"primary",icon:t.jsx(Ne,{}),onClick:()=>{r.setFieldsValue({deviceId:l(),deviceName:`_${new Date().getHours()}${new Date().getMinutes()}`,platform:"android",version:"1.0.0"}),a(!0)},children:""})})]}):t.jsx(Se,{dataSource:f,renderItem:u=>t.jsx(Se.Item,{children:t.jsx(Se.Item.Meta,{avatar:t.jsx(Dn,{status:u.isOnline?"success":"default",dot:!0,children:t.jsx($t,{style:{fontSize:24}})}),title:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Y,{strong:!0,children:u.deviceName}),t.jsx(se,{color:u.isOnline?"green":"default",children:u.isOnline?"":""})]}),description:t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Y,{type:"secondary",className:"block text-xs",children:["ID: ",u.deviceId]}),t.jsxs(Y,{type:"secondary",className:"block text-xs",children:[": ",u.platform==="android"?"Android":"iOS"]}),t.jsxs(Y,{type:"secondary",className:"block text-xs",children:[": ",new Date(u.lastActiveAt).toLocaleString()]})]})})})})})})]}),t.jsx(T,{title:"",className:e==="dark"?"bg-gray-800 border-gray-700":"",children:t.jsxs(H,{gutter:[16,16],children:[t.jsx(I,{xs:24,sm:6,children:t.jsxs(T,{hoverable:!0,className:`text-center cursor-pointer ${e==="dark"?"bg-gray-700 border-gray-600":""}`,onClick:()=>window.location.href="/content",children:[t.jsx(Ie,{level:4,children:" "}),t.jsx(Y,{type:"secondary",children:"AI"})]})}),t.jsx(I,{xs:24,sm:6,children:t.jsxs(T,{hoverable:!0,className:`text-center cursor-pointer ${e==="dark"?"bg-gray-700 border-gray-600":""}`,onClick:()=>window.location.href="/tasks",children:[t.jsx(Ie,{level:4,children:" "}),t.jsx(Y,{type:"secondary",children:""})]})}),t.jsx(I,{xs:24,sm:6,children:t.jsxs(T,{hoverable:!0,className:`text-center cursor-pointer ${e==="dark"?"bg-gray-700 border-gray-600":""}`,onClick:()=>window.location.href="/accounts",children:[t.jsx(Ie,{level:4,children:" "}),t.jsx(Y,{type:"secondary",children:""})]})}),t.jsx(I,{xs:24,sm:6,children:t.jsxs(T,{hoverable:!0,className:`text-center cursor-pointer ${e==="dark"?"bg-gray-700 border-gray-600":""}`,onClick:()=>{m.onlineDevices>0?window.location.href="/mobile":alert("")},children:[t.jsx(Ie,{level:4,children:" "}),t.jsx(Y,{type:"secondary",children:""}),m.onlineDevices>0&&t.jsx("div",{className:"mt-2",children:t.jsxs(se,{color:"green",children:[m.onlineDevices," "]})})]})})]})}),t.jsxs(ce,{title:"",open:n,onCancel:()=>a(!1),footer:null,width:500,children:[t.jsxs(_,{form:r,layout:"vertical",onFinish:o,children:[t.jsx(_.Item,{label:"ID",name:"deviceId",rules:[{required:!0,message:"ID"}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{label:"",name:"deviceName",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:"iPhone 15"})}),t.jsx(_.Item,{label:"",name:"platform",rules:[{required:!0,message:""}],children:t.jsxs(L,{placeholder:"",children:[t.jsx(Pr,{value:"android",children:"Android"}),t.jsx(Pr,{value:"ios",children:"iOS"})]})}),t.jsx(_.Item,{label:"",name:"version",children:t.jsx(D,{placeholder:"1.0.0"})}),t.jsx(_.Item,{children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(R,{onClick:()=>a(!1),children:""}),t.jsx(R,{type:"primary",htmlType:"submit",loading:i.isLoading,children:""})]})})]}),t.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:t.jsx(Y,{type:"secondary",className:"text-xs",children:" ID"})})]})]})},{Title:ki}=be,{Option:It}=L,Ii=()=>{const[e,n]=x.useState(!1),[a,r]=x.useState(null),[s]=_.useForm(),i=Le(),{data:o=[],isLoading:l}=xe("tasks",async()=>{const u=await M.tasks.list();return Array.isArray(u.data)?u.data:[]}),c=te(M.tasks.create,{onSuccess:()=>{O.success(""),n(!1),s.resetFields(),i.invalidateQueries("tasks")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),d=te(u=>M.tasks.start(u),{onSuccess:()=>{O.success(""),i.invalidateQueries("tasks")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),f=te(u=>M.tasks.delete(u),{onSuccess:()=>{O.success(""),i.invalidateQueries("tasks")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),p=u=>{c.mutate(u)},v=u=>{d.mutate(u)},m=u=>{ce.confirm({title:"",content:"",onOk:()=>f.mutate(u)})},b=[{title:"",dataIndex:"title",key:"title"},{title:"",dataIndex:"description",key:"description",ellipsis:!0},{title:"",dataIndex:"status",key:"status",render:u=>{const h={pending:{color:"default",text:""},running:{color:"processing",text:""},completed:{color:"success",text:""},failed:{color:"error",text:""}},y=h[u]||h.pending;return t.jsx(se,{color:y.color,children:y.text})}},{title:"",dataIndex:"type",key:"type",render:u=>({content_generation:"",publish:"",both:""})[u]||u},{title:"",dataIndex:"createdAt",key:"createdAt",render:u=>new Date(u).toLocaleString()},{title:"",key:"action",render:(u,h)=>t.jsxs(G,{size:"middle",children:[h.status==="pending"&&t.jsx(R,{type:"link",icon:t.jsx(at,{}),onClick:()=>v(h.id),children:""}),t.jsx(R,{type:"link",icon:t.jsx(ye,{}),onClick:()=>{r(h),n(!0)},children:""}),t.jsx(R,{type:"link",danger:!0,icon:t.jsx(it,{}),onClick:()=>m(h.id),children:""})]})}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(ki,{level:2,children:""}),t.jsx(R,{type:"primary",icon:t.jsx(Ne,{}),onClick:()=>{r(null),n(!0)},children:""})]}),t.jsx(T,{children:t.jsx(zt,{columns:b,dataSource:o,rowKey:"id",loading:l,pagination:{pageSize:10,showSizeChanger:!0,showTotal:(u,h)=>` ${h[0]}-${h[1]}  ${u} `}})}),t.jsx(ce,{title:a?"":"",open:e,onCancel:()=>{n(!1),s.resetFields()},footer:null,width:600,children:t.jsxs(_,{form:s,layout:"vertical",onFinish:p,initialValues:a||{type:"both"},children:[t.jsx(_.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{name:"description",label:"",children:t.jsx(D.TextArea,{placeholder:"",rows:3})}),t.jsx(_.Item,{name:"type",label:"",rules:[{required:!0,message:""}],children:t.jsxs(L,{placeholder:"",children:[t.jsx(It,{value:"content_generation",children:""}),t.jsx(It,{value:"publish",children:""}),t.jsx(It,{value:"both",children:""})]})}),t.jsx(_.Item,{name:"publishTime",label:"",children:t.jsx(qn,{showTime:!0,placeholder:"",style:{width:"100%"}})}),t.jsx(_.Item,{children:t.jsxs(G,{children:[t.jsx(R,{type:"primary",htmlType:"submit",loading:c.isLoading,children:a?"":""}),t.jsx(R,{onClick:()=>{n(!1),s.resetFields()},children:""})]})})]})})]})},{Title:Ei,Text:ne}=be,{Option:U}=L,Ti=()=>{const[e]=_.useForm(),[n]=_.useForm(),[a,r]=x.useState(null),[s,i]=x.useState([]),[o,l]=x.useState(null),[c,d]=x.useState(!1),[f,p]=x.useState(!1),[v,m]=x.useState(!1),[b,u]=x.useState(!1),h=te(g=>M.content.generate(g),{onMutate:()=>{d(!0)},onSuccess:g=>{r(g.data),g.data._id&&l(g.data._id),O.success("")},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")},onSettled:()=>{d(!1)}}),y=te(g=>M.content.generateImages(g),{onMutate:()=>{p(!0)},onSuccess:async g=>{const S=Array.isArray(g.data)?g.data:[];if(i(S),o&&S.length>0)try{await M.content.saveImages(o,{images:S}),O.success("")}catch($){console.error(":",$),O.success("")}else O.success("")},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")},onSettled:()=>{p(!1)}}),j=te(g=>M.content.publish(g),{onMutate:()=>{m(!0)},onSuccess:()=>{O.success("")},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")},onSettled:()=>{m(!1)}}),w=te(g=>M.content.manual(g),{onMutate:()=>{u(!0)},onSuccess:g=>{r(g.data),g.data._id&&l(g.data._id),O.success("")},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")},onSettled:()=>{u(!1)}}),A=g=>{h.mutate(g)},F=()=>{a&&M.tasks.create({title:`: ${a.title}`,description:a.description,type:"publish",content:a}).then(()=>{O.success("")}).catch(()=>{O.error("")})},N=()=>{const g=e.getFieldValue("topic");if(!g){O.error("");return}y.mutate({theme:g,count:3})},re=()=>{if(!a||s.length===0){O.error("");return}j.mutate({content:a,images:s,platform:"xiaohongshu"})},ie=g=>{w.mutate(g)},oe={style:"casual",tone:"friendly",length:"medium",keywords:[],targetAudience:"",includeHashtags:!0,includeEmojis:!0},K=[{key:"ai",label:t.jsxs("span",{children:[t.jsx(Rt,{}),"AI"]}),children:t.jsxs(H,{gutter:[24,24],children:[t.jsx(I,{xs:24,lg:12,children:t.jsx(T,{title:"",children:t.jsxs(_,{form:e,layout:"vertical",onFinish:A,initialValues:oe,children:[t.jsx(_.Item,{name:"topic",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{name:"keywords",label:"",children:t.jsx(L,{mode:"tags",placeholder:"",style:{width:"100%"}})}),t.jsx(_.Item,{name:"targetAudience",label:"",children:t.jsxs(L,{placeholder:"",children:[t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""})]})}),t.jsxs(H,{gutter:16,children:[t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"style",label:"",children:t.jsxs(L,{children:[t.jsx(U,{value:"casual",children:""}),t.jsx(U,{value:"professional",children:""}),t.jsx(U,{value:"creative",children:""})]})})}),t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"tone",label:"",children:t.jsxs(L,{children:[t.jsx(U,{value:"friendly",children:""}),t.jsx(U,{value:"formal",children:""}),t.jsx(U,{value:"humorous",children:""})]})})})]}),t.jsx(_.Item,{name:"length",label:"",children:t.jsxs(L,{children:[t.jsx(U,{value:"short",children:""}),t.jsx(U,{value:"medium",children:""}),t.jsx(U,{value:"long",children:""})]})}),t.jsxs(H,{gutter:16,children:[t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"includeHashtags",label:"",valuePropName:"checked",children:t.jsx(me,{})})}),t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"includeEmojis",label:"",valuePropName:"checked",children:t.jsx(me,{})})})]}),t.jsx(_.Item,{children:t.jsx(R,{type:"primary",htmlType:"submit",icon:t.jsx(Rt,{}),loading:c,size:"large",block:!0,children:""})})]})})}),t.jsx(I,{xs:24,lg:12,children:t.jsx(T,{title:"",extra:a&&t.jsxs(G,{children:[t.jsx(R,{icon:t.jsx(Te,{}),loading:f,onClick:N,children:""}),t.jsx(R,{icon:t.jsx(Jt,{}),onClick:F,children:""}),t.jsx(R,{type:"primary",icon:t.jsx(Xt,{}),loading:v,disabled:s.length===0,onClick:re,children:""})]}),children:a?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx(ne,{children:a.title})]}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap"},children:a.content||a.text})]}),a.hashtags&&a.hashtags.length>0&&t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx("div",{className:"mt-2",children:a.hashtags.map((g,S)=>t.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-2",children:["#",g]},S))})]}),s.length>0&&t.jsxs("div",{children:[t.jsx(he,{}),t.jsx(ne,{strong:!0,children:""}),t.jsx(H,{gutter:[8,8],className:"mt-2",children:s.map((g,S)=>t.jsx(I,{span:8,children:t.jsx(Gt,{src:g,alt:` ${S+1}`,style:{width:"100%",height:200,objectFit:"cover",borderRadius:8}})},S))})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Rt,{className:"text-4xl text-gray-300 mb-4"}),t.jsx(ne,{type:"secondary",children:"AI"})]})})})]})},{key:"manual",label:t.jsxs("span",{children:[t.jsx(ye,{}),""]}),children:t.jsxs(H,{gutter:[24,24],children:[t.jsx(I,{xs:24,lg:12,children:t.jsx(T,{title:"",children:t.jsxs(_,{form:n,layout:"vertical",onFinish:ie,children:[t.jsx(_.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{name:"content",label:"",rules:[{required:!0,message:""}],children:t.jsx(D.TextArea,{placeholder:"",rows:8,showCount:!0,maxLength:2e3})}),t.jsx(_.Item,{name:"keywords",label:"",children:t.jsx(L,{mode:"tags",placeholder:"",style:{width:"100%"}})}),t.jsx(_.Item,{name:"theme",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsxs(H,{gutter:16,children:[t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"targetAudience",label:"",children:t.jsxs(L,{placeholder:"",children:[t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"",children:""}),t.jsx(U,{value:"general",children:""})]})})}),t.jsx(I,{span:12,children:t.jsx(_.Item,{name:"style",label:"",children:t.jsxs(L,{children:[t.jsx(U,{value:"casual",children:""}),t.jsx(U,{value:"professional",children:""}),t.jsx(U,{value:"creative",children:""})]})})})]}),t.jsx(_.Item,{name:"summary",label:"",children:t.jsx(D.TextArea,{placeholder:"",rows:3,showCount:!0,maxLength:200})}),t.jsx(_.Item,{children:t.jsx(R,{type:"primary",htmlType:"submit",icon:t.jsx(ye,{}),loading:b,size:"large",block:!0,children:""})})]})})}),t.jsx(I,{xs:24,lg:12,children:t.jsx(T,{title:"",extra:a&&t.jsxs(G,{children:[t.jsx(R,{icon:t.jsx(Te,{}),loading:f,onClick:N,children:""}),t.jsx(R,{icon:t.jsx(Jt,{}),onClick:F,children:""}),t.jsx(R,{type:"primary",icon:t.jsx(Xt,{}),loading:v,disabled:s.length===0,onClick:re,children:""})]}),children:a?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx(ne,{children:a.title})]}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap"},children:a.content||a.text})]}),a.keywords&&a.keywords.length>0&&t.jsxs("div",{children:[t.jsx(ne,{strong:!0,children:""}),t.jsx("div",{className:"mt-2",children:a.keywords.map((g,S)=>t.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-2 mb-2",children:g},S))})]}),s.length>0&&t.jsxs("div",{children:[t.jsx(he,{}),t.jsx(ne,{strong:!0,children:""}),t.jsx(H,{gutter:[8,8],className:"mt-2",children:s.map((g,S)=>t.jsx(I,{span:8,children:t.jsx(Gt,{src:g,alt:` ${S+1}`,style:{width:"100%",height:200,objectFit:"cover",borderRadius:8}})},S))})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ye,{className:"text-4xl text-gray-300 mb-4"}),t.jsx(ne,{type:"secondary",children:""})]})})})]})}];return t.jsxs("div",{className:"space-y-6",children:[t.jsx(Ei,{level:2,children:""}),t.jsx(Un,{defaultActiveKey:"ai",items:K,size:"large"})]})},{Title:Fi,Text:B}=be,{Option:Et}=L,Ni=()=>{var oe,K;const[e,n]=x.useState(null),[a,r]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),[c,d]=x.useState({page:1,limit:10,theme:"",status:""}),[f]=_.useForm(),{data:p,isLoading:v,refetch:m}=xe(["content",c],()=>M.content.list(c)),b=te(g=>M.content.delete(g),{onSuccess:()=>{O.success(""),m()},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")}}),u=te(({id:g,data:S})=>M.content.update(g,S),{onSuccess:()=>{O.success(""),l(!1),r(null),f.resetFields(),m()},onError:g=>{var S,$;O.error((($=(S=g.response)==null?void 0:S.data)==null?void 0:$.error)||"")}}),h=async g=>{var S,$;try{const C=await M.content.get(g);n(C.data),i(!0)}catch(C){O.error((($=(S=C.response)==null?void 0:S.data)==null?void 0:$.error)||"")}},y=g=>{b.mutate(g)},j=async g=>{var S,$,C;try{const E=await M.content.get(g);r(E.data),f.setFieldsValue({title:E.data.title,content:E.data.content,hashtags:(S=E.data.hashtags)==null?void 0:S.join(", "),summary:E.data.summary}),l(!0)}catch(E){O.error(((C=($=E.response)==null?void 0:$.data)==null?void 0:C.error)||"")}},w=g=>{if(!a)return;const S={title:g.title,content:g.content,hashtags:g.hashtags.split(/[,]/).map($=>$.trim()).filter($=>$),summary:g.summary};u.mutate({id:a._id,data:S})},A=(g,S)=>{d($=>({...$,[g]:S,page:1}))},F=(g,S)=>{d($=>({...$,page:g,limit:S||$.limit}))},N=[{title:"",dataIndex:"title",key:"title",ellipsis:!0,width:200},{title:"",dataIndex:"theme",key:"theme",width:120},{title:"",dataIndex:"targetAudience",key:"targetAudience",width:100},{title:"",dataIndex:"style",key:"style",width:80,render:g=>({formal:"",casual:"",professional:"",creative:""})[g]||g},{title:"",dataIndex:"status",key:"status",width:80,render:g=>{const $={generated:{color:"blue",text:""},published:{color:"green",text:""},failed:{color:"red",text:""}}[g]||{color:"default",text:g};return t.jsx(se,{color:$.color,children:$.text})}},{title:"",dataIndex:"generatedAt",key:"generatedAt",width:150,render:g=>new Date(g).toLocaleString()},{title:"",key:"action",width:180,render:(g,S)=>t.jsxs(G,{size:"small",children:[t.jsx(R,{type:"link",size:"small",icon:t.jsx(Kt,{}),onClick:()=>h(S._id),children:""}),t.jsx(R,{type:"link",size:"small",icon:t.jsx(ye,{}),onClick:()=>j(S._id),children:""}),t.jsx(Ir,{title:"",description:"",onConfirm:()=>y(S._id),okText:"",cancelText:"",children:t.jsx(R,{type:"link",danger:!0,size:"small",icon:t.jsx(it,{}),loading:b.isLoading,children:""})})]})}],re=((oe=p==null?void 0:p.data)==null?void 0:oe.contents)||[],ie=((K=p==null?void 0:p.data)==null?void 0:K.pagination)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Fi,{level:2,children:""}),t.jsx(R,{icon:t.jsx(Or,{}),onClick:()=>m(),loading:v,children:""})]}),t.jsx(T,{children:t.jsxs(H,{gutter:[16,16],children:[t.jsx(I,{xs:24,sm:8,children:t.jsx(D,{placeholder:"",prefix:t.jsx(kr,{}),value:c.theme,onChange:g=>A("theme",g.target.value),allowClear:!0})}),t.jsx(I,{xs:24,sm:8,children:t.jsxs(L,{placeholder:"",style:{width:"100%"},value:c.status||void 0,onChange:g=>A("status",g),allowClear:!0,children:[t.jsx(Et,{value:"generated",children:""}),t.jsx(Et,{value:"published",children:""}),t.jsx(Et,{value:"failed",children:""})]})})]})}),t.jsx(T,{children:t.jsx(zt,{columns:N,dataSource:re,rowKey:"_id",loading:v,pagination:{current:ie.page,pageSize:ie.limit,total:ie.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(g,S)=>` ${S[0]}-${S[1]}  ${g} `,onChange:F}})}),t.jsx(ce,{title:"",open:s,onCancel:()=>i(!1),footer:[t.jsx(R,{onClick:()=>i(!1),children:""},"close")],width:800,children:e&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:e.title})]}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:e.theme})]}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:e.targetAudience})]}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:e.style==="formal"?"":e.style==="casual"?"":e.style==="professional"?"":e.style==="creative"?"":e.style})]}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap",maxHeight:"300px",overflowY:"auto"},children:e.content})]}),e.hashtags&&e.hashtags.length>0&&t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx("div",{className:"mt-2",children:e.hashtags.map((g,S)=>t.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-2",children:["#",g]},S))})]}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:e.summary})]}),t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:new Date(e.generatedAt).toLocaleString()})]}),e.publishedAt&&t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx(B,{children:new Date(e.publishedAt).toLocaleString()})]}),e.publishUrl&&t.jsxs("div",{children:[t.jsx(B,{strong:!0,children:""}),t.jsx("a",{href:e.publishUrl,target:"_blank",rel:"noopener noreferrer",children:e.publishUrl})]})]})}),t.jsx(ce,{title:"",open:o,onCancel:()=>{l(!1),r(null),f.resetFields()},footer:null,width:800,children:t.jsxs(_,{form:f,layout:"vertical",onFinish:w,children:[t.jsx(_.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{name:"content",label:"",rules:[{required:!0,message:""}],children:t.jsx(D.TextArea,{placeholder:"",rows:8,style:{whiteSpace:"pre-wrap"}})}),t.jsx(_.Item,{name:"hashtags",label:"",extra:"",children:t.jsx(D,{placeholder:",,"})}),t.jsx(_.Item,{name:"summary",label:"",children:t.jsx(D.TextArea,{placeholder:"",rows:3})}),t.jsx(_.Item,{children:t.jsxs(G,{children:[t.jsx(R,{type:"primary",htmlType:"submit",loading:u.isLoading,children:""}),t.jsx(R,{onClick:()=>{l(!1),r(null),f.resetFields()},children:""})]})})]})})]})},{Title:Mi}=be,Ai=()=>{const[e,n]=x.useState(!1),[a,r]=x.useState(null),[s]=_.useForm(),i=Le(),{data:o=[],isLoading:l}=xe("accounts",async()=>{const u=await M.accounts.list();return Array.isArray(u.data)?u.data:[]}),c=te(M.accounts.create,{onSuccess:()=>{O.success(""),n(!1),s.resetFields(),i.invalidateQueries("accounts")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),d=te(u=>M.accounts.test(u),{onSuccess:()=>{O.success(""),i.invalidateQueries("accounts")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),f=te(u=>M.accounts.delete(u),{onSuccess:()=>{O.success(""),i.invalidateQueries("accounts")},onError:u=>{var h,y;O.error(((y=(h=u.response)==null?void 0:h.data)==null?void 0:y.error)||"")}}),p=u=>{c.mutate(u)},v=u=>{d.mutate(u)},m=u=>{f.mutate(u)},b=[{title:"",dataIndex:"platform",key:"platform",render:u=>t.jsx(se,{color:"red",children:u==="xiaohongshu"?"":u})},{title:"",dataIndex:"username",key:"username"},{title:"",dataIndex:"nickname",key:"nickname"},{title:"",dataIndex:"status",key:"status",render:u=>{const h={active:{color:"success",text:"",icon:t.jsx(Rr,{})},inactive:{color:"default",text:"",icon:t.jsx(Ft,{})},error:{color:"error",text:"",icon:t.jsx(Ft,{})}},y=h[u]||h.inactive;return t.jsx(se,{color:y.color,icon:y.icon,children:y.text})}},{title:"",dataIndex:"lastLogin",key:"lastLogin",render:u=>u?new Date(u).toLocaleString():""},{title:"",dataIndex:"createdAt",key:"createdAt",render:u=>new Date(u).toLocaleString()},{title:"",key:"action",render:(u,h)=>t.jsxs(G,{size:"middle",children:[t.jsx(R,{type:"link",size:"small",onClick:()=>v(h.id),loading:d.isLoading,children:""}),t.jsx(R,{type:"link",size:"small",icon:t.jsx(ye,{}),onClick:()=>{r(h),n(!0)},children:""}),t.jsx(Ir,{title:"",description:"",onConfirm:()=>m(h.id),okText:"",cancelText:"",children:t.jsx(R,{type:"link",danger:!0,size:"small",icon:t.jsx(it,{}),children:""})})]})}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(Mi,{level:2,children:""}),t.jsx(R,{type:"primary",icon:t.jsx(Ne,{}),onClick:()=>{r(null),n(!0)},children:""})]}),t.jsx(T,{children:t.jsx(zt,{columns:b,dataSource:o,rowKey:"id",loading:l,pagination:{pageSize:10,showSizeChanger:!0,showTotal:(u,h)=>` ${h[0]}-${h[1]}  ${u} `}})}),t.jsx(ce,{title:a?"":"",open:e,onCancel:()=>{n(!1),s.resetFields()},footer:null,width:500,children:t.jsxs(_,{form:s,layout:"vertical",onFinish:p,initialValues:a||{platform:"xiaohongshu"},children:[t.jsx(_.Item,{name:"platform",label:"",children:t.jsx(D,{disabled:!0,value:""})}),t.jsx(_.Item,{name:"username",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{name:"password",label:"",rules:[{required:!0,message:""}],children:t.jsx(D.Password,{placeholder:""})}),t.jsx(_.Item,{name:"nickname",label:"",rules:[{required:!0,message:""}],children:t.jsx(D,{placeholder:""})}),t.jsx(_.Item,{children:t.jsxs(G,{children:[t.jsx(R,{type:"primary",htmlType:"submit",loading:c.isLoading,children:a?"":""}),t.jsx(R,{onClick:()=>{n(!1),s.resetFields()},children:""})]})})]})})]})},{Title:Di}=be,{Option:Ee}=L,qi=()=>{const{setTheme:e,setLanguage:n,theme:a,language:r}=_e(),[s]=Qn(),[i,o]=Q.useState(!1);Q.useEffect(()=>{(async()=>{try{const f={theme:a||"light",language:r||"zh-CN",notifications:{email:!0,push:!1,taskComplete:!0,taskError:!0},apiConfig:{openaiApiKey:"",stableDiffusionUrl:"http://localhost:7860",timeout:3e4},taskSettings:{autoRetry:!0,maxRetries:3,timeout:3e5}};s.setFieldsValue(f)}catch{O.error("")}})()},[s]);const l=async d=>{o(!0);try{console.log(":",d),await new Promise(f=>setTimeout(f,1e3)),e(d.theme),n(d.language),O.success("")}catch{O.error("")}finally{o(!1)}},c=()=>{s.resetFields(),O.info("")};return t.jsxs("div",{className:"p-6",children:[t.jsx(Di,{level:2,children:""}),t.jsxs(_,{form:s,layout:"vertical",onFinish:l,className:"max-w-4xl",children:[t.jsxs(T,{title:"",className:"mb-6",children:[t.jsx(_.Item,{label:"",name:"theme",children:t.jsxs(L,{children:[t.jsx(Ee,{value:"light",children:""}),t.jsx(Ee,{value:"dark",children:""})]})}),t.jsx(_.Item,{label:"",name:"language",children:t.jsxs(L,{children:[t.jsx(Ee,{value:"zh-CN",children:""}),t.jsx(Ee,{value:"zh-TW",children:""}),t.jsx(Ee,{value:"en-US",children:"English"})]})})]}),t.jsxs(T,{title:"",className:"mb-6",children:[t.jsx(_.Item,{label:"",name:["notifications","email"],valuePropName:"checked",children:t.jsx(me,{})}),t.jsx(_.Item,{label:"",name:["notifications","push"],valuePropName:"checked",children:t.jsx(me,{})}),t.jsx(_.Item,{label:"",name:["notifications","taskComplete"],valuePropName:"checked",children:t.jsx(me,{})}),t.jsx(_.Item,{label:"",name:["notifications","taskError"],valuePropName:"checked",children:t.jsx(me,{})})]}),t.jsxs(T,{title:"API",className:"mb-6",children:[t.jsx(_.Item,{label:"OpenAI API",name:["apiConfig","openaiApiKey"],help:"AI",children:t.jsx(D.Password,{placeholder:"OpenAI API"})}),t.jsx(_.Item,{label:"Stable Diffusion URL",name:["apiConfig","stableDiffusionUrl"],help:"AI",children:t.jsx(D,{placeholder:"http://localhost:7860"})}),t.jsx(_.Item,{label:"API()",name:["apiConfig","timeout"],children:t.jsx(D,{type:"number",min:1e3,max:6e4})})]}),t.jsxs(T,{title:"",className:"mb-6",children:[t.jsx(_.Item,{label:"",name:["taskSettings","autoRetry"],valuePropName:"checked",children:t.jsx(me,{})}),t.jsx(_.Item,{label:"",name:["taskSettings","maxRetries"],dependencies:[["taskSettings","autoRetry"]],children:({getFieldValue:d})=>t.jsx(D,{type:"number",min:1,max:10,disabled:!d(["taskSettings","autoRetry"])})}),t.jsx(_.Item,{label:"()",name:["taskSettings","timeout"],children:t.jsx(D,{type:"number",min:3e4,max:18e5})})]}),t.jsx(he,{}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(R,{type:"primary",htmlType:"submit",icon:t.jsx(Ln,{}),loading:i,size:"large",children:""}),t.jsx(R,{icon:t.jsx(Or,{}),onClick:c,size:"large",children:""})]})]})]})},{Title:Ui,Text:V}=be,Qi=()=>{const[e,n]=x.useState(null),[a,r]=x.useState([]),[s,i]=x.useState(!1),o=async c=>{const{file:d,onSuccess:f,onError:p}=c;try{const v=new FileReader;v.onload=m=>{var b;try{const u=(b=m.target)==null?void 0:b.result,h=JSON.parse(u);if(!h.name||!h.states)throw new Error("wizard");n(h),O.success(`wizard: ${h.name}`),f==null||f("ok")}catch(u){O.error(""),p==null||p(u)}},v.readAsText(d)}catch(v){O.error(""),p==null||p(v)}},l=c=>{const d=p=>{switch(p){case"start":return"#52c41a";case"end":return"#f5222d";case"decision":return"#fa8c16";default:return"#1890ff"}},f=p=>{switch(p){case"start":return"";case"end":return"";case"decision":return"";default:return""}};return t.jsxs(T,{size:"small",style:{width:120,borderColor:d(c.type),borderWidth:2,position:"absolute",left:c.x,top:c.y},title:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:f(c.type)}),t.jsx(se,{color:d(c.type),children:c.type==="start"?"":c.type==="end"?"":c.type==="decision"?"":""})]}),children:[t.jsx(V,{strong:!0,children:c.name}),c.transitions.length>0&&t.jsx("div",{className:"mt-2",children:t.jsxs(V,{type:"secondary",style:{fontSize:"12px"},children:[": ",c.transitions.length]})})]},c.id)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs(Ui,{level:2,children:["",e&&t.jsxs(V,{type:"secondary",style:{fontSize:"16px",marginLeft:"12px"},children:["- ",e.name]})]}),(e==null?void 0:e.description)&&t.jsx(V,{type:"secondary",children:e.description})]}),t.jsxs(G,{children:[t.jsx(Zt,{customRequest:o,fileList:a,onChange:({fileList:c})=>r(c),accept:".json",showUploadList:!1,children:t.jsx(R,{icon:t.jsx(Te,{}),children:"Wizard"})}),e&&t.jsxs(t.Fragment,{children:[t.jsx(R,{icon:t.jsx(Kt,{}),onClick:()=>i(!0),children:""}),t.jsx(R,{icon:t.jsx(at,{}),type:"primary",children:""})]})]})]}),t.jsx(T,{title:"",style:{minHeight:"500px",position:"relative"},extra:e&&t.jsx(G,{children:t.jsxs(V,{type:"secondary",children:[": ",e.states.length," | : ",e.transitions.length]})}),children:e?t.jsxs("div",{style:{position:"relative",height:"400px"},children:[e.states.map(l),t.jsx("div",{className:"absolute inset-0 pointer-events-none"})]}):t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Te,{className:"text-4xl text-gray-300 mb-4"}),t.jsx("div",{children:t.jsx(V,{type:"secondary",children:"wizard"})}),t.jsx("div",{className:"mt-4",children:t.jsx(Zt,{customRequest:o,fileList:a,onChange:({fileList:c})=>r(c),accept:".json",children:t.jsx(R,{type:"primary",icon:t.jsx(Te,{}),children:"Wizard"})})})]})}),t.jsx(ce,{title:`Wizard - ${e==null?void 0:e.name}`,open:s,onCancel:()=>i(!1),footer:[t.jsx(R,{onClick:()=>i(!1),children:""},"close")],width:800,children:e&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs(H,{children:[t.jsx(I,{span:8,children:t.jsx(V,{strong:!0,children:":"})}),t.jsx(I,{span:16,children:t.jsx(V,{children:e.name})})]}),t.jsxs(H,{children:[t.jsx(I,{span:8,children:t.jsx(V,{strong:!0,children:":"})}),t.jsx(I,{span:16,children:t.jsx(V,{children:e.version})})]}),t.jsxs(H,{children:[t.jsx(I,{span:8,children:t.jsx(V,{strong:!0,children:":"})}),t.jsx(I,{span:16,children:t.jsx(V,{children:e.description})})]}),t.jsx(he,{}),t.jsxs(H,{children:[t.jsx(I,{span:12,children:t.jsx(T,{size:"small",title:"",children:e.states.map(c=>t.jsxs("div",{className:"mb-2 p-2 border rounded",children:[t.jsx(V,{strong:!0,children:c.name}),t.jsx(se,{style:{marginLeft:"8px",fontSize:"12px"},children:c.type})]},c.id))})}),t.jsx(I,{span:12,children:t.jsx(T,{size:"small",title:"",children:e.transitions.map(c=>t.jsxs("div",{className:"mb-2 p-2 border rounded",children:[t.jsxs(V,{children:[c.fromState,"  ",c.toState]}),c.condition&&t.jsxs(V,{type:"secondary",style:{fontSize:"12px",display:"block"},children:[": ",c.condition]})]},c.id))})})]})]})})]})},{Search:Li}=D,{Option:zi}=L,Ki=["","","","","","",""],Bi=()=>{const[e,n]=x.useState([]),[a,r]=x.useState(!1),[s,i]=x.useState(null),[o]=x.useState({}),[l,c]=x.useState(""),[d,f]=x.useState(),[p,v]=x.useState(!1),[m,b]=x.useState(null),[u,h]=x.useState(!1),[y,j]=x.useState(!1),[w,A]=x.useState(null),F=async()=>{r(!0),i(null);try{const C={...o,search:l||void 0,category:d||void 0,isFavorite:p?"true":void 0},E=await M.templates.list(C);if(E.data.success&&E.data.data)n(E.data.data);else throw new Error(E.data.error||"")}catch(C){console.error(":",C),i(C.message||"")}finally{r(!1)}};x.useEffect(()=>{F()},[o,l,d,p]);const N=C=>{c(C)},re=C=>{f(C)},ie=C=>{v(C)},oe=async C=>{try{e.some(J=>J.id===C&&J.isFavorite)?await M.templates.unfavorite(C):await M.templates.favorite(C),F()}catch(E){console.error(":",E),i(E.message||"")}},K=C=>{b(C),h(!0)},g=async()=>{if(w)try{await M.templates.delete(w),F(),j(!1),A(null)}catch(C){console.error(":",C),i(C.message||"")}},S=C=>{A(C),j(!0)},$=()=>{h(!1),b(null)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:""})]}),s&&t.jsx(zn,{message:"",description:s,type:"error",showIcon:!0,closable:!0,onClose:()=>i(null),className:"mb-4"}),t.jsx(T,{className:"mb-6",children:t.jsxs(G,{wrap:!0,size:"middle",className:"w-full",children:[t.jsx(Li,{placeholder:"",allowClear:!0,enterButton:t.jsx(kr,{}),size:"middle",onSearch:N,onChange:C=>N(C.target.value),className:"w-64"}),t.jsx(L,{placeholder:"",allowClear:!0,size:"middle",style:{width:150},onChange:re,value:d||void 0,children:Ki.map(C=>t.jsx(zi,{value:C,children:C},C))}),t.jsxs(G,{children:[t.jsx(R,{type:p?"primary":"default",icon:t.jsx(er,{}),onClick:()=>ie(!p),children:""}),t.jsx(R,{type:"primary",icon:t.jsx(Ne,{}),children:""})]})]})}),t.jsx(Kn,{spinning:a,tip:"...",children:e.length===0?t.jsx(tr,{description:"",image:tr.PRESENTED_IMAGE_SIMPLE}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{const E=C.isFavorite;return t.jsxs(T,{hoverable:!0,className:"transition-all duration-300 hover:shadow-lg",extra:t.jsxs(G,{size:"small",children:[t.jsx(Ot,{title:"",children:t.jsx(R,{type:"text",icon:t.jsx(Kt,{}),onClick:()=>K(C)})}),!C.isDefault&&t.jsx(Ot,{title:"",children:t.jsx(R,{type:"text",icon:t.jsx(ye,{})})}),!C.isDefault&&t.jsx(Ot,{title:"",children:t.jsx(R,{type:"text",danger:!0,icon:t.jsx(it,{}),onClick:()=>S(C.id)})})]}),children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:C.name}),t.jsx(R,{type:"text",icon:E?t.jsx(Bn,{}):t.jsx(er,{}),onClick:()=>oe(C.id),style:{color:E?"#faad14":void 0}})]}),t.jsx(se,{color:"blue",className:"mb-2",children:C.category}),t.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:C.description}),t.jsx(he,{className:"my-2"}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",C.titleStructure.length," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",C.contentFramework.length," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",C.imageCountSuggestion," "]}),C.tagSuggestions.length>0&&t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",C.tagSuggestions.slice(0,3).join(""),C.tagSuggestions.length>3&&"..."]})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-500",children:t.jsxs("p",{children:[": ",new Date(C.createdAt).toLocaleString()]})})]},C.id)})})}),t.jsx(ce,{title:"",visible:u,onCancel:$,footer:null,width:800,children:m&&t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-bold",children:m.name}),t.jsx(se,{color:"blue",children:m.category})]}),t.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold mb-2",children:""}),t.jsx("div",{className:"bg-gray-50 p-4 rounded",children:m.titleStructure.map((C,E)=>t.jsx("p",{className:"mb-1",children:C},E))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold mb-2",children:""}),t.jsx("div",{className:"bg-gray-50 p-4 rounded",children:m.contentFramework.map((C,E)=>t.jsx("p",{className:"mb-1",children:C},E))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold mb-2",children:""}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m.tagSuggestions.map((C,E)=>t.jsx(se,{color:"gray",children:C},E))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold mb-2",children:""}),t.jsxs("p",{className:"text-gray-800",children:[m.imageCountSuggestion," "]})]})]})}),t.jsx(ce,{title:"",visible:y,onCancel:()=>j(!1),onOk:g,okText:"",cancelText:"",okType:"danger",children:t.jsx("p",{children:""})})]})},{Content:Wi}=we,Yi=()=>{const{sidebarCollapsed:e,theme:n,language:a}=_e(),{isAuthenticated:r,token:s,user:i,login:o}=yn(),[l,c]=x.useState(!0);console.log("App:",{isAuthenticated:r,token:s,user:i}),x.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const d=()=>{switch(a){case"en-US":return ri;case"zh-TW":return yi;default:return Sr}};return x.useEffect(()=>{(async()=>{try{(!r||!s)&&(console.log("..."),o("demo-token",{id:"demo-user-id",username:"",email:"demo@example.com",role:"admin"}),console.log(""))}catch(p){console.error(":",p)}finally{c(!1)}})()},[r,s,o]),l?t.jsx(Nt,{locale:Sr,children:t.jsx(rr,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})})})}):(console.log(""),t.jsx(Nt,{locale:d(),children:t.jsx(rr,{children:t.jsxs(we,{className:"min-h-screen dark:bg-gray-900",children:[t.jsx(_i,{}),t.jsxs(we,{className:"min-h-[calc(100vh-64px)] dark:bg-gray-800",children:[t.jsx($i,{}),t.jsx(we,{className:"transition-all duration-200 dark:bg-gray-800",style:{marginLeft:e?80:200},children:t.jsx(Wi,{className:"p-6 dark:bg-gray-800 min-h-[calc(100vh-64px)]",children:t.jsxs(zs,{children:[t.jsx(le,{path:"/",element:t.jsx(Oi,{})}),t.jsx(le,{path:"/tasks",element:t.jsx(Ii,{})}),t.jsx(le,{path:"/content",element:t.jsx(Ti,{})}),t.jsx(le,{path:"/content/history",element:t.jsx(Ni,{})}),t.jsx(le,{path:"/templates",element:t.jsx(Bi,{})}),t.jsx(le,{path:"/accounts",element:t.jsx(Ai,{})}),t.jsx(le,{path:"/settings",element:t.jsx(qi,{})}),t.jsx(le,{path:"/state-machine",element:t.jsx(Qi,{})}),t.jsx(le,{path:"/auth",element:t.jsx(ur,{to:"/",replace:!0})}),t.jsx(le,{path:"*",element:t.jsx(ur,{to:"/",replace:!0})})]})})})]})]})})}))},Vi=new da({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}}),Hi={token:{colorPrimary:"#0ea5e9",borderRadius:8,fontSize:14}};Mt.createRoot(document.getElementById("root")).render(t.jsx(Q.StrictMode,{children:t.jsx(xa,{client:Vi,children:t.jsx(Nt,{theme:Hi,children:t.jsx(Ws,{children:t.jsx(Yi,{})})})})}));
