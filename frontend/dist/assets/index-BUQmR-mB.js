import{r as j,c as Bn,b as Hn,a as Wn,R as A,g as Vn}from"./vendor-DGSAJ0Dx.js";import{_ as Gn,a as P,L as me,B as I,R as Jn,b as Yn,S as X,D as Xn,A as Zn,c as dt,d as en,e as er,M as tr,f as nr,g as We,h as Pt,i as rr,j as sr,T as fe,k as W,C as E,l as k,m as Ae,n as ir,o as tn,p as ht,P as ar,q as at,r as K,F as R,s as nn,t as jt,u as ye,I as N,v as or,w as xe,x as ve,y as bt,z as O,E as ue,G as ot,H as ce,J as It,K as Se,N as _t,O as Et,Q as lr,U as rn,V as ur,W as sn,X as an,Y as cr,Z as dr,$ as Ft,a0 as ft,a1 as kt}from"./antd-PCGICWRK.js";import{c as on,a as hr}from"./utils-DZig06V-.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var ln={exports:{}},Ve={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=j,pr=Symbol.for("react.element"),mr=Symbol.for("react.fragment"),vr=Object.prototype.hasOwnProperty,yr=fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xr={key:!0,ref:!0,__self:!0,__source:!0};function un(e,r,s){var t,n={},a=null,o=null;s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(o=r.ref);for(t in r)vr.call(r,t)&&!xr.hasOwnProperty(t)&&(n[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps,r)n[t]===void 0&&(n[t]=r[t]);return{$$typeof:pr,type:e,key:a,ref:o,props:n,_owner:yr.current}}Ve.Fragment=mr;Ve.jsx=un;Ve.jsxs=un;ln.exports=Ve;var i=ln.exports,pt={},$t=Bn;pt.createRoot=$t.createRoot,pt.hydrateRoot=$t.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},we.apply(this,arguments)}var ae;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ae||(ae={}));const Mt="popstate";function gr(e){e===void 0&&(e={});function r(t,n){let{pathname:a,search:o,hash:l}=t.location;return mt("",{pathname:a,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(t,n){return typeof n=="string"?n:cn(n)}return br(r,s,null,e)}function q(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Ct(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function jr(){return Math.random().toString(36).substr(2,8)}function At(e,r){return{usr:e.state,key:e.key,idx:r}}function mt(e,r,s,t){return s===void 0&&(s=null),we({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?ge(r):r,{state:s,key:r&&r.key||t||jr()})}function cn(e){let{pathname:r="/",search:s="",hash:t=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ge(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let t=e.indexOf("?");t>=0&&(r.search=e.substr(t),e=e.substr(0,t)),e&&(r.pathname=e)}return r}function br(e,r,s,t){t===void 0&&(t={});let{window:n=document.defaultView,v5Compat:a=!1}=t,o=n.history,l=ae.Pop,u=null,c=p();c==null&&(c=0,o.replaceState(we({},o.state,{idx:c}),""));function p(){return(o.state||{idx:null}).idx}function f(){l=ae.Pop;let h=p(),x=h==null?null:h-c;c=h,u&&u({action:l,location:d.location,delta:x})}function m(h,x){l=ae.Push;let b=mt(d.location,h,x);c=p()+1;let S=At(b,c),Q=d.createHref(b);try{o.pushState(S,"",Q)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;n.location.assign(Q)}a&&u&&u({action:l,location:d.location,delta:1})}function y(h,x){l=ae.Replace;let b=mt(d.location,h,x);c=p();let S=At(b,c),Q=d.createHref(b);o.replaceState(S,"",Q),a&&u&&u({action:l,location:d.location,delta:0})}function g(h){let x=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof h=="string"?h:cn(h);return b=b.replace(/ $/,"%20"),q(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let d={get action(){return l},get location(){return e(n,o)},listen(h){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(Mt,f),u=h,()=>{n.removeEventListener(Mt,f),u=null}},createHref(h){return r(n,h)},createURL:g,encodeLocation(h){let x=g(h);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(h){return o.go(h)}};return d}var Tt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tt||(Tt={}));function Cr(e,r,s){return s===void 0&&(s="/"),Sr(e,r,s)}function Sr(e,r,s,t){let n=typeof r=="string"?ge(r):r,a=fn(n.pathname||"/",s);if(a==null)return null;let o=dn(e);Rr(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=Tr(a);l=$r(o[u],c)}return l}function dn(e,r,s,t){r===void 0&&(r=[]),s===void 0&&(s=[]),t===void 0&&(t="");let n=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(q(u.relativePath.startsWith(t),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(t.length));let c=he([t,u.relativePath]),p=s.concat(u);a.children&&a.children.length>0&&(q(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dn(a.children,r,p,c)),!(a.path==null&&!a.index)&&r.push({path:c,score:Fr(c,a.index),routesMeta:p})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))n(a,o);else for(let u of hn(a.path))n(a,o,u)}),r}function hn(e){let r=e.split("/");if(r.length===0)return[];let[s,...t]=r,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(t.length===0)return n?[a,""]:[a];let o=hn(t.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),n&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Rr(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:kr(r.routesMeta.map(t=>t.childrenIndex),s.routesMeta.map(t=>t.childrenIndex)))}const wr=/^:[\w-]+$/,Or=3,Pr=2,Ir=1,_r=10,Er=-2,Nt=e=>e==="*";function Fr(e,r){let s=e.split("/"),t=s.length;return s.some(Nt)&&(t+=Er),r&&(t+=Pr),s.filter(n=>!Nt(n)).reduce((n,a)=>n+(wr.test(a)?Or:a===""?Ir:_r),t)}function kr(e,r){return e.length===r.length&&e.slice(0,-1).every((t,n)=>t===r[n])?e[e.length-1]-r[r.length-1]:0}function $r(e,r,s){let{routesMeta:t}=e,n={},a="/",o=[];for(let l=0;l<t.length;++l){let u=t[l],c=l===t.length-1,p=a==="/"?r:r.slice(a.length)||"/",f=Mr({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),m=u.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:he([a,f.pathname]),pathnameBase:Dr(he([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=he([a,f.pathnameBase]))}return o}function Mr(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,t]=Ar(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let a=n[0],o=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:t.reduce((c,p,f)=>{let{paramName:m,isOptional:y}=p;if(m==="*"){let d=l[f]||"";o=a.slice(0,a.length-d.length).replace(/(.)\/+$/,"$1")}const g=l[f];return y&&!g?c[m]=void 0:c[m]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function Ar(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Ct(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let t=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(t.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(t.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),t]}function Tr(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ct(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function fn(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,t=e.charAt(s);return t&&t!=="/"?null:e.slice(s)||"/"}const Nr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=e=>Nr.test(e);function qr(e,r){r===void 0&&(r="/");let{pathname:s,search:t="",hash:n=""}=typeof e=="string"?ge(e):e,a;if(s)if(Qr(s))a=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Ct(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?a=Qt(s.substring(1),"/"):a=Qt(s,r)}else a=r;return{pathname:a,search:Lr(t),hash:zr(n)}}function Qt(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function lt(e,r,s,t){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ur(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function pn(e,r){let s=Ur(e);return r?s.map((t,n)=>n===s.length-1?t.pathname:t.pathnameBase):s.map(t=>t.pathnameBase)}function mn(e,r,s,t){t===void 0&&(t=!1);let n;typeof e=="string"?n=ge(e):(n=we({},e),q(!n.pathname||!n.pathname.includes("?"),lt("?","pathname","search",n)),q(!n.pathname||!n.pathname.includes("#"),lt("#","pathname","hash",n)),q(!n.search||!n.search.includes("#"),lt("#","search","hash",n)));let a=e===""||n.pathname==="",o=a?"/":n.pathname,l;if(o==null)l=s;else{let f=r.length-1;if(!t&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;n.pathname=m.join("/")}l=f>=0?r[f]:"/"}let u=qr(n,l),c=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const he=e=>e.join("/").replace(/\/\/+/g,"/"),Dr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vn=["post","put","patch","delete"];new Set(vn);const Br=["get",...vn];new Set(Br);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Oe.apply(this,arguments)}const St=j.createContext(null),Hr=j.createContext(null),_e=j.createContext(null),Ge=j.createContext(null),pe=j.createContext({outlet:null,matches:[],isDataRoute:!1}),yn=j.createContext(null);function Ee(){return j.useContext(Ge)!=null}function Je(){return Ee()||q(!1),j.useContext(Ge).location}function xn(e){j.useContext(_e).static||j.useLayoutEffect(e)}function gn(){let{isDataRoute:e}=j.useContext(pe);return e?is():Wr()}function Wr(){Ee()||q(!1);let e=j.useContext(St),{basename:r,future:s,navigator:t}=j.useContext(_e),{matches:n}=j.useContext(pe),{pathname:a}=Je(),o=JSON.stringify(pn(n,s.v7_relativeSplatPath)),l=j.useRef(!1);return xn(()=>{l.current=!0}),j.useCallback(function(c,p){if(p===void 0&&(p={}),!l.current)return;if(typeof c=="number"){t.go(c);return}let f=mn(c,JSON.parse(o),a,p.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:he([r,f.pathname])),(p.replace?t.replace:t.push)(f,p.state,p)},[r,t,o,a,e])}function Vr(e,r){return Gr(e,r)}function Gr(e,r,s,t){Ee()||q(!1);let{navigator:n}=j.useContext(_e),{matches:a}=j.useContext(pe),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Je(),p;if(r){var f;let h=typeof r=="string"?ge(r):r;u==="/"||(f=h.pathname)!=null&&f.startsWith(u)||q(!1),p=h}else p=c;let m=p.pathname||"/",y=m;if(u!=="/"){let h=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(h.length).join("/")}let g=Cr(e,{pathname:y}),d=es(g&&g.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:he([u,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?u:he([u,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),a,s,t);return r&&d?j.createElement(Ge.Provider,{value:{location:Oe({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ae.Pop}},d):d}function Jr(){let e=ss(),r=Kr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),s?j.createElement("pre",{style:n},s):null,null)}const Yr=j.createElement(Jr,null);class Xr extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?j.createElement(pe.Provider,{value:this.props.routeContext},j.createElement(yn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zr(e){let{routeContext:r,match:s,children:t}=e,n=j.useContext(St);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(pe.Provider,{value:r},t)}function es(e,r,s,t){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),t===void 0&&(t=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=t)!=null&&a.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let p=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||q(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(s&&t&&t.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:m,errors:y}=s,g=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||g){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,f,m)=>{let y,g=!1,d=null,h=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,d=f.route.errorElement||Yr,u&&(c<0&&m===0?(as("route-fallback"),g=!0,h=null):c===m&&(g=!0,h=f.route.hydrateFallbackElement||null)));let x=r.concat(o.slice(0,m+1)),b=()=>{let S;return y?S=d:g?S=h:f.route.Component?S=j.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=p,j.createElement(Zr,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(Xr,{location:s.location,revalidation:s.revalidation,component:d,error:y,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var jn=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jn||{}),bn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bn||{});function ts(e){let r=j.useContext(St);return r||q(!1),r}function ns(e){let r=j.useContext(Hr);return r||q(!1),r}function rs(e){let r=j.useContext(pe);return r||q(!1),r}function Cn(e){let r=rs(),s=r.matches[r.matches.length-1];return s.route.id||q(!1),s.route.id}function ss(){var e;let r=j.useContext(yn),s=ns(),t=Cn();return r!==void 0?r:(e=s.errors)==null?void 0:e[t]}function is(){let{router:e}=ts(jn.UseNavigateStable),r=Cn(bn.UseNavigateStable),s=j.useRef(!1);return xn(()=>{s.current=!0}),j.useCallback(function(n,a){a===void 0&&(a={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Oe({fromRouteId:r},a)))},[e,r])}const qt={};function as(e,r,s){qt[e]||(qt[e]=!0)}function os(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ut(e){let{to:r,replace:s,state:t,relative:n}=e;Ee()||q(!1);let{future:a,static:o}=j.useContext(_e),{matches:l}=j.useContext(pe),{pathname:u}=Je(),c=gn(),p=mn(r,pn(l,a.v7_relativeSplatPath),u,n==="path"),f=JSON.stringify(p);return j.useEffect(()=>c(JSON.parse(f),{replace:s,state:t,relative:n}),[c,f,n,s,t]),null}function te(e){q(!1)}function ls(e){let{basename:r="/",children:s=null,location:t,navigationType:n=ae.Pop,navigator:a,static:o=!1,future:l}=e;Ee()&&q(!1);let u=r.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:a,static:o,future:Oe({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof t=="string"&&(t=ge(t));let{pathname:p="/",search:f="",hash:m="",state:y=null,key:g="default"}=t,d=j.useMemo(()=>{let h=fn(p,u);return h==null?null:{location:{pathname:h,search:f,hash:m,state:y,key:g},navigationType:n}},[u,p,f,m,y,g,n]);return d==null?null:j.createElement(_e.Provider,{value:c},j.createElement(Ge.Provider,{children:s,value:d}))}function us(e){let{children:r,location:s}=e;return Vr(vt(r),s)}new Promise(()=>{});function vt(e,r){r===void 0&&(r=[]);let s=[];return j.Children.forEach(e,(t,n)=>{if(!j.isValidElement(t))return;let a=[...r,n];if(t.type===j.Fragment){s.push.apply(s,vt(t.props.children,a));return}t.type!==te&&q(!1),!t.props.index||!t.props.children||q(!1);let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=vt(t.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cs="6";try{window.__reactRouterVersion=cs}catch{}const ds="startTransition",Dt=Hn[ds];function hs(e){let{basename:r,children:s,future:t,window:n}=e,a=j.useRef();a.current==null&&(a.current=gr({window:n,v5Compat:!0}));let o=a.current,[l,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=t||{},p=j.useCallback(f=>{c&&Dt?Dt(()=>u(f)):u(f)},[u,c]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.useEffect(()=>os(t),[t]),j.createElement(ls,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:t})}var Lt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lt||(Lt={}));var zt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zt||(zt={}));function je(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Gn(e,r)}var be=function(){function e(){this.listeners=[]}var r=e.prototype;return r.subscribe=function(t){var n=this,a=t||function(){};return this.listeners.push(a),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(o){return o!==a}),n.onUnsubscribe()}},r.hasListeners=function(){return this.listeners.length>0},r.onSubscribe=function(){},r.onUnsubscribe=function(){},e}(),De=typeof window>"u";function L(){}function fs(e,r){return typeof e=="function"?e(r):e}function yt(e){return typeof e=="number"&&e>=0&&e!==1/0}function Le(e){return Array.isArray(e)?e:[e]}function Sn(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Qe(e,r,s){return Fe(e)?typeof r=="function"?P({},s,{queryKey:e,queryFn:r}):P({},r,{queryKey:e}):e}function ps(e,r,s){return Fe(e)?typeof r=="function"?P({},s,{mutationKey:e,mutationFn:r}):P({},r,{mutationKey:e}):typeof e=="function"?P({},r,{mutationFn:e}):P({},e)}function ie(e,r,s){return Fe(e)?[P({},r,{queryKey:e}),s]:[e||{},r]}function ms(e,r){if(e===!0&&r===!0||e==null&&r==null)return"all";if(e===!1&&r===!1)return"none";var s=e??!r;return s?"active":"inactive"}function Kt(e,r){var s=e.active,t=e.exact,n=e.fetching,a=e.inactive,o=e.predicate,l=e.queryKey,u=e.stale;if(Fe(l)){if(t){if(r.queryHash!==Rt(l,r.options))return!1}else if(!ze(r.queryKey,l))return!1}var c=ms(s,a);if(c==="none")return!1;if(c!=="all"){var p=r.isActive();if(c==="active"&&!p||c==="inactive"&&p)return!1}return!(typeof u=="boolean"&&r.isStale()!==u||typeof n=="boolean"&&r.isFetching()!==n||o&&!o(r))}function Bt(e,r){var s=e.exact,t=e.fetching,n=e.predicate,a=e.mutationKey;if(Fe(a)){if(!r.options.mutationKey)return!1;if(s){if(de(r.options.mutationKey)!==de(a))return!1}else if(!ze(r.options.mutationKey,a))return!1}return!(typeof t=="boolean"&&r.state.status==="loading"!==t||n&&!n(r))}function Rt(e,r){var s=(r==null?void 0:r.queryKeyHashFn)||de;return s(e)}function de(e){var r=Le(e);return vs(r)}function vs(e){return JSON.stringify(e,function(r,s){return xt(s)?Object.keys(s).sort().reduce(function(t,n){return t[n]=s[n],t},{}):s})}function ze(e,r){return Rn(Le(e),Le(r))}function Rn(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?!Object.keys(r).some(function(s){return!Rn(e[s],r[s])}):!1}function Ke(e,r){if(e===r)return e;var s=Array.isArray(e)&&Array.isArray(r);if(s||xt(e)&&xt(r)){for(var t=s?e.length:Object.keys(e).length,n=s?r:Object.keys(r),a=n.length,o=s?[]:{},l=0,u=0;u<a;u++){var c=s?u:n[u];o[c]=Ke(e[c],r[c]),o[c]===e[c]&&l++}return t===a&&l===t?e:o}return r}function ys(e,r){if(e&&!r||r&&!e)return!1;for(var s in e)if(e[s]!==r[s])return!1;return!0}function xt(e){if(!Ht(e))return!1;var r=e.constructor;if(typeof r>"u")return!0;var s=r.prototype;return!(!Ht(s)||!s.hasOwnProperty("isPrototypeOf"))}function Ht(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fe(e){return typeof e=="string"||Array.isArray(e)}function xs(e){return new Promise(function(r){setTimeout(r,e)})}function Wt(e){Promise.resolve().then(e).catch(function(r){return setTimeout(function(){throw r})})}function wn(){if(typeof AbortController=="function")return new AbortController}var gs=function(e){je(r,e);function r(){var t;return t=e.call(this)||this,t.setup=function(n){var a;if(!De&&((a=window)!=null&&a.addEventListener)){var o=function(){return n()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},t}var s=r.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var a,o=this;this.setup=n,(a=this.cleanup)==null||a.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},s.setFocused=function(n){this.focused=n,n&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(n){n()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},r}(be),Re=new gs,js=function(e){je(r,e);function r(){var t;return t=e.call(this)||this,t.setup=function(n){var a;if(!De&&((a=window)!=null&&a.addEventListener)){var o=function(){return n()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},t}var s=r.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var a,o=this;this.setup=n,(a=this.cleanup)==null||a.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},s.setOnline=function(n){this.online=n,n&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(n){n()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},r}(be),qe=new js;function bs(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Be(e){return typeof(e==null?void 0:e.cancel)=="function"}var On=function(r){this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent};function Ue(e){return e instanceof On}var Pn=function(r){var s=this,t=!1,n,a,o,l;this.abort=r.abort,this.cancel=function(m){return n==null?void 0:n(m)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,y){o=m,l=y});var u=function(y){s.isResolved||(s.isResolved=!0,r.onSuccess==null||r.onSuccess(y),a==null||a(),o(y))},c=function(y){s.isResolved||(s.isResolved=!0,r.onError==null||r.onError(y),a==null||a(),l(y))},p=function(){return new Promise(function(y){a=y,s.isPaused=!0,r.onPause==null||r.onPause()}).then(function(){a=void 0,s.isPaused=!1,r.onContinue==null||r.onContinue()})},f=function m(){if(!s.isResolved){var y;try{y=r.fn()}catch(g){y=Promise.reject(g)}n=function(d){if(!s.isResolved&&(c(new On(d)),s.abort==null||s.abort(),Be(y)))try{y.cancel()}catch{}},s.isTransportCancelable=Be(y),Promise.resolve(y).then(u).catch(function(g){var d,h;if(!s.isResolved){var x=(d=r.retry)!=null?d:3,b=(h=r.retryDelay)!=null?h:bs,S=typeof b=="function"?b(s.failureCount,g):b,Q=x===!0||typeof x=="number"&&s.failureCount<x||typeof x=="function"&&x(s.failureCount,g);if(t||!Q){c(g);return}s.failureCount++,r.onFail==null||r.onFail(s.failureCount,g),xs(S).then(function(){if(!Re.isFocused()||!qe.isOnline())return p()}).then(function(){t?c(g):m()})}})}};f()},Cs=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var r=e.prototype;return r.batch=function(t){var n;this.transactions++;try{n=t()}finally{this.transactions--,this.transactions||this.flush()}return n},r.schedule=function(t){var n=this;this.transactions?this.queue.push(t):Wt(function(){n.notifyFn(t)})},r.batchCalls=function(t){var n=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];n.schedule(function(){t.apply(void 0,o)})}},r.flush=function(){var t=this,n=this.queue;this.queue=[],n.length&&Wt(function(){t.batchNotifyFn(function(){n.forEach(function(a){t.notifyFn(a)})})})},r.setNotifyFunction=function(t){this.notifyFn=t},r.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},e}(),$=new Cs,In=console;function He(){return In}function Ss(e){In=e}var Rs=function(){function e(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var r=e.prototype;return r.setOptions=function(t){var n;this.options=P({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},r.setDefaultOptions=function(t){this.defaultOptions=t},r.scheduleGc=function(){var t=this;this.clearGcTimeout(),yt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},r.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},r.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},r.setData=function(t,n){var a,o,l=this.state.data,u=fs(t,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,u)?u=l:this.options.structuralSharing!==!1&&(u=Ke(l,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),u},r.setState=function(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})},r.cancel=function(t){var n,a=this.promise;return(n=this.retryer)==null||n.cancel(t),a?a.then(L).catch(L):Promise.resolve()},r.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},r.reset=function(){this.destroy(),this.setState(this.initialState)},r.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},r.isFetching=function(){return this.state.isFetching},r.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},r.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Sn(this.state.dataUpdatedAt,t)},r.onFocus=function(){var t,n=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});n&&n.refetch(),(t=this.retryer)==null||t.continue()},r.onOnline=function(){var t,n=this.observers.find(function(a){return a.shouldFetchOnReconnect()});n&&n.refetch(),(t=this.retryer)==null||t.continue()},r.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},r.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(n){return n!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},r.getObserversCount=function(){return this.observers.length},r.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},r.fetch=function(t,n){var a=this,o,l,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var p=this.observers.find(function(b){return b.options.queryFn});p&&this.setOptions(p.options)}var f=Le(this.queryKey),m=wn(),y={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(y,"signal",{enumerable:!0,get:function(){if(m)return a.abortSignalConsumed=!0,m.signal}});var g=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(y)):Promise.reject("Missing queryFn")},d={fetchOptions:n,options:this.options,queryKey:f,state:this.state,fetchFn:g,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var h;(h=this.options.behavior)==null||h.onFetch(d)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=d.fetchOptions)==null?void 0:l.meta)){var x;this.dispatch({type:"fetch",meta:(x=d.fetchOptions)==null?void 0:x.meta})}return this.retryer=new Pn({fn:d.fetchFn,abort:m==null||(u=m.abort)==null?void 0:u.bind(m),onSuccess:function(S){a.setData(S),a.cache.config.onSuccess==null||a.cache.config.onSuccess(S,a),a.cacheTime===0&&a.optionalRemove()},onError:function(S){Ue(S)&&S.silent||a.dispatch({type:"error",error:S}),Ue(S)||(a.cache.config.onError==null||a.cache.config.onError(S,a),He().error(S)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay}),this.promise=this.retryer.promise,this.promise},r.dispatch=function(t){var n=this;this.state=this.reducer(this.state,t),$.batch(function(){n.observers.forEach(function(a){a.onQueryUpdate(t)}),n.cache.notify({query:n,type:"queryUpdated",action:t})})},r.getDefaultState=function(t){var n=typeof t.initialData=="function"?t.initialData():t.initialData,a=typeof t.initialData<"u",o=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,l=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},r.reducer=function(t,n){var a,o;switch(n.type){case"failed":return P({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return P({},t,{isPaused:!0});case"continue":return P({},t,{isPaused:!1});case"fetch":return P({},t,{fetchFailureCount:0,fetchMeta:(a=n.meta)!=null?a:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return P({},t,{data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(o=n.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=n.error;return Ue(l)&&l.revert&&this.revertState?P({},this.revertState):P({},t,{error:l,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return P({},t,{isInvalidated:!0});case"setState":return P({},t,n.state);default:return t}},e}(),ws=function(e){je(r,e);function r(t){var n;return n=e.call(this)||this,n.config=t||{},n.queries=[],n.queriesMap={},n}var s=r.prototype;return s.build=function(n,a,o){var l,u=a.queryKey,c=(l=a.queryHash)!=null?l:Rt(u,a),p=this.get(c);return p||(p=new Rs({cache:this,queryKey:u,queryHash:c,options:n.defaultQueryOptions(a),state:o,defaultOptions:n.getQueryDefaults(u),meta:a.meta}),this.add(p)),p},s.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},s.remove=function(n){var a=this.queriesMap[n.queryHash];a&&(n.destroy(),this.queries=this.queries.filter(function(o){return o!==n}),a===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},s.clear=function(){var n=this;$.batch(function(){n.queries.forEach(function(a){n.remove(a)})})},s.get=function(n){return this.queriesMap[n]},s.getAll=function(){return this.queries},s.find=function(n,a){var o=ie(n,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(u){return Kt(l,u)})},s.findAll=function(n,a){var o=ie(n,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(u){return Kt(l,u)}):this.queries},s.notify=function(n){var a=this;$.batch(function(){a.listeners.forEach(function(o){o(n)})})},s.onFocus=function(){var n=this;$.batch(function(){n.queries.forEach(function(a){a.onFocus()})})},s.onOnline=function(){var n=this;$.batch(function(){n.queries.forEach(function(a){a.onOnline()})})},r}(be),Os=function(){function e(s){this.options=P({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||_n(),this.meta=s.meta}var r=e.prototype;return r.setState=function(t){this.dispatch({type:"setState",state:t})},r.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},r.removeObserver=function(t){this.observers=this.observers.filter(function(n){return n!==t})},r.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(L).catch(L)):Promise.resolve()},r.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},r.execute=function(){var t=this,n,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(l){l!==t.state.context&&t.dispatch({type:"loading",context:l,variables:t.state.variables})})),o.then(function(){return t.executeMutation()}).then(function(l){n=l,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(n,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(n,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(n,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:n}),n}).catch(function(l){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(l,t.state.variables,t.state.context,t),He().error(l),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(l,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,l,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:l}),l})})},r.executeMutation=function(){var t=this,n;return this.retryer=new Pn({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},r.dispatch=function(t){var n=this;this.state=Ps(this.state,t),$.batch(function(){n.observers.forEach(function(a){a.onMutationUpdate(t)}),n.mutationCache.notify(n)})},e}();function _n(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ps(e,r){switch(r.type){case"failed":return P({},e,{failureCount:e.failureCount+1});case"pause":return P({},e,{isPaused:!0});case"continue":return P({},e,{isPaused:!1});case"loading":return P({},e,{context:r.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:r.variables});case"success":return P({},e,{data:r.data,error:null,status:"success",isPaused:!1});case"error":return P({},e,{data:void 0,error:r.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return P({},e,r.state);default:return e}}var Is=function(e){je(r,e);function r(t){var n;return n=e.call(this)||this,n.config=t||{},n.mutations=[],n.mutationId=0,n}var s=r.prototype;return s.build=function(n,a,o){var l=new Os({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?n.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},s.add=function(n){this.mutations.push(n),this.notify(n)},s.remove=function(n){this.mutations=this.mutations.filter(function(a){return a!==n}),n.cancel(),this.notify(n)},s.clear=function(){var n=this;$.batch(function(){n.mutations.forEach(function(a){n.remove(a)})})},s.getAll=function(){return this.mutations},s.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(a){return Bt(n,a)})},s.findAll=function(n){return this.mutations.filter(function(a){return Bt(n,a)})},s.notify=function(n){var a=this;$.batch(function(){a.listeners.forEach(function(o){o(n)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var n=this.mutations.filter(function(a){return a.state.isPaused});return $.batch(function(){return n.reduce(function(a,o){return a.then(function(){return o.continue().catch(L)})},Promise.resolve())})},r}(be);function _s(){return{onFetch:function(r){r.fetchFn=function(){var s,t,n,a,o,l,u=(s=r.fetchOptions)==null||(t=s.meta)==null?void 0:t.refetchPage,c=(n=r.fetchOptions)==null||(a=n.meta)==null?void 0:a.fetchMore,p=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",m=(c==null?void 0:c.direction)==="backward",y=((o=r.state.data)==null?void 0:o.pages)||[],g=((l=r.state.data)==null?void 0:l.pageParams)||[],d=wn(),h=d==null?void 0:d.signal,x=g,b=!1,S=r.options.queryFn||function(){return Promise.reject("Missing queryFn")},Q=function(B,V,ee,Ce){return x=Ce?[V].concat(x):[].concat(x,[V]),Ce?[ee].concat(B):[].concat(B,[ee])},U=function(B,V,ee,Ce){if(b)return Promise.reject("Cancelled");if(typeof ee>"u"&&!V&&B.length)return Promise.resolve(B);var se={queryKey:r.queryKey,signal:h,pageParam:ee,meta:r.meta},oe=S(se),Me=Promise.resolve(oe).then(function(Kn){return Q(B,ee,Kn,Ce)});if(Be(oe)){var it=Me;it.cancel=oe.cancel}return Me},F;if(!y.length)F=U([]);else if(f){var Z=typeof p<"u",ne=Z?p:Vt(r.options,y);F=U(y,Z,ne)}else if(m){var re=typeof p<"u",z=re?p:Es(r.options,y);F=U(y,re,z,!0)}else(function(){x=[];var w=typeof r.options.getNextPageParam>"u",B=u&&y[0]?u(y[0],0,y):!0;F=B?U([],w,g[0]):Promise.resolve(Q([],g[0],y[0]));for(var V=function(se){F=F.then(function(oe){var Me=u&&y[se]?u(y[se],se,y):!0;if(Me){var it=w?g[se]:Vt(r.options,oe);return U(oe,w,it)}return Promise.resolve(Q(oe,g[se],y[se]))})},ee=1;ee<y.length;ee++)V(ee)})();var v=F.then(function(w){return{pages:w,pageParams:x}}),C=v;return C.cancel=function(){b=!0,d==null||d.abort(),Be(F)&&F.cancel()},v}}}}function Vt(e,r){return e.getNextPageParam==null?void 0:e.getNextPageParam(r[r.length-1],r)}function Es(e,r){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(r[0],r)}var Fs=function(){function e(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new ws,this.mutationCache=s.mutationCache||new Is,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var r=e.prototype;return r.mount=function(){var t=this;this.unsubscribeFocus=Re.subscribe(function(){Re.isFocused()&&qe.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=qe.subscribe(function(){Re.isFocused()&&qe.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},r.unmount=function(){var t,n;(t=this.unsubscribeFocus)==null||t.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},r.isFetching=function(t,n){var a=ie(t,n),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},r.isMutating=function(t){return this.mutationCache.findAll(P({},t,{fetching:!0})).length},r.getQueryData=function(t,n){var a;return(a=this.queryCache.find(t,n))==null?void 0:a.state.data},r.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(n){var a=n.queryKey,o=n.state,l=o.data;return[a,l]})},r.setQueryData=function(t,n,a){var o=Qe(t),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(n,a)},r.setQueriesData=function(t,n,a){var o=this;return $.batch(function(){return o.getQueryCache().findAll(t).map(function(l){var u=l.queryKey;return[u,o.setQueryData(u,n,a)]})})},r.getQueryState=function(t,n){var a;return(a=this.queryCache.find(t,n))==null?void 0:a.state},r.removeQueries=function(t,n){var a=ie(t,n),o=a[0],l=this.queryCache;$.batch(function(){l.findAll(o).forEach(function(u){l.remove(u)})})},r.resetQueries=function(t,n,a){var o=this,l=ie(t,n,a),u=l[0],c=l[1],p=this.queryCache,f=P({},u,{active:!0});return $.batch(function(){return p.findAll(u).forEach(function(m){m.reset()}),o.refetchQueries(f,c)})},r.cancelQueries=function(t,n,a){var o=this,l=ie(t,n,a),u=l[0],c=l[1],p=c===void 0?{}:c;typeof p.revert>"u"&&(p.revert=!0);var f=$.batch(function(){return o.queryCache.findAll(u).map(function(m){return m.cancel(p)})});return Promise.all(f).then(L).catch(L)},r.invalidateQueries=function(t,n,a){var o,l,u,c=this,p=ie(t,n,a),f=p[0],m=p[1],y=P({},f,{active:(o=(l=f.refetchActive)!=null?l:f.active)!=null?o:!0,inactive:(u=f.refetchInactive)!=null?u:!1});return $.batch(function(){return c.queryCache.findAll(f).forEach(function(g){g.invalidate()}),c.refetchQueries(y,m)})},r.refetchQueries=function(t,n,a){var o=this,l=ie(t,n,a),u=l[0],c=l[1],p=$.batch(function(){return o.queryCache.findAll(u).map(function(m){return m.fetch(void 0,P({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),f=Promise.all(p).then(L);return c!=null&&c.throwOnError||(f=f.catch(L)),f},r.fetchQuery=function(t,n,a){var o=Qe(t,n,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var u=this.queryCache.build(this,l);return u.isStaleByTime(l.staleTime)?u.fetch(l):Promise.resolve(u.state.data)},r.prefetchQuery=function(t,n,a){return this.fetchQuery(t,n,a).then(L).catch(L)},r.fetchInfiniteQuery=function(t,n,a){var o=Qe(t,n,a);return o.behavior=_s(),this.fetchQuery(o)},r.prefetchInfiniteQuery=function(t,n,a){return this.fetchInfiniteQuery(t,n,a).then(L).catch(L)},r.cancelMutations=function(){var t=this,n=$.batch(function(){return t.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(n).then(L).catch(L)},r.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},r.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},r.getQueryCache=function(){return this.queryCache},r.getMutationCache=function(){return this.mutationCache},r.getDefaultOptions=function(){return this.defaultOptions},r.setDefaultOptions=function(t){this.defaultOptions=t},r.setQueryDefaults=function(t,n){var a=this.queryDefaults.find(function(o){return de(t)===de(o.queryKey)});a?a.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})},r.getQueryDefaults=function(t){var n;return t?(n=this.queryDefaults.find(function(a){return ze(t,a.queryKey)}))==null?void 0:n.defaultOptions:void 0},r.setMutationDefaults=function(t,n){var a=this.mutationDefaults.find(function(o){return de(t)===de(o.mutationKey)});a?a.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})},r.getMutationDefaults=function(t){var n;return t?(n=this.mutationDefaults.find(function(a){return ze(t,a.mutationKey)}))==null?void 0:n.defaultOptions:void 0},r.defaultQueryOptions=function(t){if(t!=null&&t._defaulted)return t;var n=P({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=Rt(n.queryKey,n)),n},r.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},r.defaultMutationOptions=function(t){return t!=null&&t._defaulted?t:P({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},r.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),ks=function(e){je(r,e);function r(t,n){var a;return a=e.call(this)||this,a.client=t,a.options=n,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(n),a}var s=r.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Gt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return gt(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return gt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(n,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&Jt(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),u&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();u&&(this.currentQuery!==l||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},s.getOptimisticResult=function(n){var a=this.client.defaultQueryObserverOptions(n),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(n,a){var o=this,l={},u=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(n).forEach(function(c){Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:function(){return u(c),n[c]}})}),(a.useErrorBoundary||a.suspense)&&u("error"),l},s.getNextResult=function(n){var a=this;return new Promise(function(o,l){var u=a.subscribe(function(c){c.isFetching||(u(),c.isError&&(n!=null&&n.throwOnError)?l(c.error):o(c))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(n){return this.fetch(P({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},s.fetchOptimistic=function(n){var a=this,o=this.client.defaultQueryObserverOptions(n),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},s.fetch=function(n){var a=this;return this.executeFetch(n).then(function(){return a.updateResult(),a.currentResult})},s.executeFetch=function(n){this.updateQuery();var a=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(a=a.catch(L)),a},s.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(De||this.currentResult.isStale||!yt(this.options.staleTime))){var a=Sn(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},o)}},s.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},s.updateRefetchInterval=function(n){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(De||this.options.enabled===!1||!yt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||Re.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(n,a){var o=this.currentQuery,l=this.options,u=this.currentResult,c=this.currentResultState,p=this.currentResultOptions,f=n!==o,m=f?n.state:this.currentQueryInitialState,y=f?this.currentResult:this.previousQueryResult,g=n.state,d=g.dataUpdatedAt,h=g.error,x=g.errorUpdatedAt,b=g.isFetching,S=g.status,Q=!1,U=!1,F;if(a.optimisticResults){var Z=this.hasListeners(),ne=!Z&&Gt(n,a),re=Z&&Jt(n,o,a,l);(ne||re)&&(b=!0,d||(S="loading"))}if(a.keepPreviousData&&!g.dataUpdateCount&&(y!=null&&y.isSuccess)&&S!=="error")F=y.data,d=y.dataUpdatedAt,S=y.status,Q=!0;else if(a.select&&typeof g.data<"u")if(u&&g.data===(c==null?void 0:c.data)&&a.select===this.selectFn)F=this.selectResult;else try{this.selectFn=a.select,F=a.select(g.data),a.structuralSharing!==!1&&(F=Ke(u==null?void 0:u.data,F)),this.selectResult=F,this.selectError=null}catch(C){He().error(C),this.selectError=C}else F=g.data;if(typeof a.placeholderData<"u"&&typeof F>"u"&&(S==="loading"||S==="idle")){var z;if(u!=null&&u.isPlaceholderData&&a.placeholderData===(p==null?void 0:p.placeholderData))z=u.data;else if(z=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof z<"u")try{z=a.select(z),a.structuralSharing!==!1&&(z=Ke(u==null?void 0:u.data,z)),this.selectError=null}catch(C){He().error(C),this.selectError=C}typeof z<"u"&&(S="success",F=z,U=!0)}this.selectError&&(h=this.selectError,F=this.selectResult,x=Date.now(),S="error");var v={status:S,isLoading:S==="loading",isSuccess:S==="success",isError:S==="error",isIdle:S==="idle",data:F,dataUpdatedAt:d,error:h,errorUpdatedAt:x,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:b,isRefetching:b&&S!=="loading",isLoadingError:S==="error"&&g.dataUpdatedAt===0,isPlaceholderData:U,isPreviousData:Q,isRefetchError:S==="error"&&g.dataUpdatedAt!==0,isStale:wt(n,a),refetch:this.refetch,remove:this.remove};return v},s.shouldNotifyListeners=function(n,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!l&&!u||l==="tracked"&&!this.trackedProps.length)return!0;var c=l==="tracked"?this.trackedProps:l;return Object.keys(n).some(function(p){var f=p,m=n[f]!==a[f],y=c==null?void 0:c.some(function(d){return d===p}),g=u==null?void 0:u.some(function(d){return d===p});return m&&!g&&(!c||y)})},s.updateResult=function(n){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ys(this.currentResult,a)){var o={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(P({},o,n))}},s.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var a=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),n.addObserver(this))}},s.onQueryUpdate=function(n){var a={};n.type==="success"?a.onSuccess=!0:n.type==="error"&&!Ue(n.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},s.notify=function(n){var a=this;$.batch(function(){n.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):n.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),n.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),n.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},r}(be);function $s(e,r){return r.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&r.retryOnMount===!1)}function Gt(e,r){return $s(e,r)||e.state.dataUpdatedAt>0&&gt(e,r,r.refetchOnMount)}function gt(e,r,s){if(r.enabled!==!1){var t=typeof s=="function"?s(e):s;return t==="always"||t!==!1&&wt(e,r)}return!1}function Jt(e,r,s,t){return s.enabled!==!1&&(e!==r||t.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&wt(e,s)}function wt(e,r){return e.isStaleByTime(r.staleTime)}var Ms=function(e){je(r,e);function r(t,n){var a;return a=e.call(this)||this,a.client=t,a.setOptions(n),a.bindMethods(),a.updateResult(),a}var s=r.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(n){this.options=this.client.defaultMutationOptions(n)},s.onUnsubscribe=function(){if(!this.listeners.length){var n;(n=this.currentMutation)==null||n.removeObserver(this)}},s.onMutationUpdate=function(n){this.updateResult();var a={listeners:!0};n.type==="success"?a.onSuccess=!0:n.type==="error"&&(a.onError=!0),this.notify(a)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(n,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,P({},this.options,{variables:typeof n<"u"?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:_n(),a=P({},n,{isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},s.notify=function(n){var a=this;$.batch(function(){a.mutateOptions&&(n.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):n.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),n.listeners&&a.listeners.forEach(function(o){o(a.currentResult)})})},r}(be),As=Wn.unstable_batchedUpdates;$.setBatchNotifyFunction(As);var Ts=console;Ss(Ts);var Yt=A.createContext(void 0),En=A.createContext(!1);function Fn(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Yt),window.ReactQueryClientContext):Yt}var Ye=function(){var r=A.useContext(Fn(A.useContext(En)));if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Ns=function(r){var s=r.client,t=r.contextSharing,n=t===void 0?!1:t,a=r.children;A.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var o=Fn(n);return A.createElement(En.Provider,{value:n},A.createElement(o.Provider,{value:s},a))};function Qs(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var qs=A.createContext(Qs()),Us=function(){return A.useContext(qs)};function kn(e,r,s){return typeof r=="function"?r.apply(void 0,s):typeof r=="boolean"?r:!!e}function Y(e,r,s){var t=A.useRef(!1),n=A.useState(0),a=n[1],o=ps(e,r,s),l=Ye(),u=A.useRef();u.current?u.current.setOptions(o):u.current=new Ms(l,o);var c=u.current.getCurrentResult();A.useEffect(function(){t.current=!0;var f=u.current.subscribe($.batchCalls(function(){t.current&&a(function(m){return m+1})}));return function(){t.current=!1,f()}},[]);var p=A.useCallback(function(f,m){u.current.mutate(f,m).catch(L)},[]);if(c.error&&kn(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return P({},c,{mutate:p,mutateAsync:c.mutate})}function Ds(e,r){var s=A.useRef(!1),t=A.useState(0),n=t[1],a=Ye(),o=Us(),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=$.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=$.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=$.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var u=A.useState(function(){return new r(a,l)}),c=u[0],p=c.getOptimisticResult(l);if(A.useEffect(function(){s.current=!0,o.clearReset();var f=c.subscribe($.batchCalls(function(){s.current&&n(function(m){return m+1})}));return c.updateResult(),function(){s.current=!1,f()}},[o,c]),A.useEffect(function(){c.setOptions(l,{listeners:!1})},[l,c]),l.suspense&&p.isLoading)throw c.fetchOptimistic(l).then(function(f){var m=f.data;l.onSuccess==null||l.onSuccess(m),l.onSettled==null||l.onSettled(m,null)}).catch(function(f){o.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(p.isError&&!o.isReset()&&!p.isFetching&&kn(l.suspense,l.useErrorBoundary,[p.error,c.getCurrentQuery()]))throw p.error;return l.notifyOnChangeProps==="tracked"&&(p=c.trackResult(p,l)),p}function Pe(e,r,s){var t=Qe(e,r,s);return Ds(t,ks)}var Xe={},$n={exports:{}};(function(e){function r(s){return s&&s.__esModule?s:{default:s}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})($n);var Ze=$n.exports,et={};Object.defineProperty(et,"__esModule",{value:!0});et.default=void 0;var Ls={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};et.default=Ls;var tt={},ke={},nt={},Mn={exports:{}},An={exports:{}},Tn={exports:{}},Nn={exports:{}};(function(e){function r(s){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,r(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Nn);var Qn=Nn.exports,qn={exports:{}};(function(e){var r=Qn.default;function s(t,n){if(r(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var o=a.call(t,n||"default");if(r(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(qn);var zs=qn.exports;(function(e){var r=Qn.default,s=zs;function t(n){var a=s(n,"string");return r(a)=="symbol"?a:a+""}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Tn);var Ks=Tn.exports;(function(e){var r=Ks;function s(t,n,a){return(n=r(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(An);var Bs=An.exports;(function(e){var r=Bs;function s(n,a){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),o.push.apply(o,l)}return o}function t(n){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?s(Object(o),!0).forEach(function(l){r(n,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(o,l))})}return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Mn);var Hs=Mn.exports,rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.commonLocale=void 0;rt.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Ws=Ze.default;Object.defineProperty(nt,"__esModule",{value:!0});nt.default=void 0;var Xt=Ws(Hs),Vs=rt,Gs=(0,Xt.default)((0,Xt.default)({},Vs.commonLocale),{},{locale:"zh_CN",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",yearFormat:"YYYY",cellDateFormat:"D",monthBeforeYear:!1});nt.default=Gs;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;const Js={placeholder:"",rangePlaceholder:["",""]};$e.default=Js;var Un=Ze.default;Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var Ys=Un(nt),Xs=Un($e);const Dn={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},Ys.default),timePickerLocale:Object.assign({},Xs.default)};Dn.lang.ok="";ke.default=Dn;var Zs=Ze.default;Object.defineProperty(tt,"__esModule",{value:!0});tt.default=void 0;var ei=Zs(ke);tt.default=ei.default;var st=Ze.default;Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var ti=st(et),ni=st(tt),ri=st(ke),si=st($e);const G="${label}${type}",ii={locale:"zh-cn",Pagination:ti.default,DatePicker:ri.default,TimePicker:si.default,Calendar:ni.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{cancelText:"",okText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",deselectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:G,method:G,array:G,object:G,number:G,date:G,boolean:G,integer:G,float:G,regexp:G,email:G,url:G,hex:G},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};Xe.default=ii;var ai=Xe;const Zt=Vn(ai),oi={};function li(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=s.getItem(n))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,a)=>s.setItem(n,JSON.stringify(a,void 0)),removeItem:n=>s.removeItem(n)}}const Ie=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(t){return Ie(t)(s)},catch(t){return this}}}catch(s){return{then(t){return this},catch(t){return Ie(t)(s)}}}},ui=(e,r)=>(s,t,n)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,x)=>({...x,...h}),...r},o=!1;const l=new Set,u=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...h)},t,n);const p=Ie(a.serialize),f=()=>{const h=a.partialize({...t()});let x;const b=p({state:h,version:a.version}).then(S=>c.setItem(a.name,S)).catch(S=>{x=S});if(x)throw x;return b},m=n.setState;n.setState=(h,x)=>{m(h,x),f()};const y=e((...h)=>{s(...h),f()},t,n);let g;const d=()=>{var h;if(!c)return;o=!1,l.forEach(b=>b(t()));const x=((h=a.onRehydrateStorage)==null?void 0:h.call(a,t()))||void 0;return Ie(c.getItem.bind(c))(a.name).then(b=>{if(b)return a.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return a.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var S;return g=a.merge(b,(S=t())!=null?S:y),s(g,!0),f()}).then(()=>{x==null||x(g,void 0),o=!0,u.forEach(b=>b(g))}).catch(b=>{x==null||x(void 0,b)})};return n.persist={setOptions:h=>{a={...a,...h},h.getStorage&&(c=h.getStorage())},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>d(),hasHydrated:()=>o,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(u.add(h),()=>{u.delete(h)})},d(),g||y},ci=(e,r)=>(s,t,n)=>{let a={storage:li(()=>localStorage),partialize:d=>d,version:0,merge:(d,h)=>({...h,...d}),...r},o=!1;const l=new Set,u=new Set;let c=a.storage;if(!c)return e((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...d)},t,n);const p=()=>{const d=a.partialize({...t()});return c.setItem(a.name,{state:d,version:a.version})},f=n.setState;n.setState=(d,h)=>{f(d,h),p()};const m=e((...d)=>{s(...d),p()},t,n);n.getInitialState=()=>m;let y;const g=()=>{var d,h;if(!c)return;o=!1,l.forEach(b=>{var S;return b((S=t())!=null?S:m)});const x=((h=a.onRehydrateStorage)==null?void 0:h.call(a,(d=t())!=null?d:m))||void 0;return Ie(c.getItem.bind(c))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return[!0,a.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var S;const[Q,U]=b;if(y=a.merge(U,(S=t())!=null?S:m),s(y,!0),Q)return p()}).then(()=>{x==null||x(y,void 0),y=t(),o=!0,u.forEach(b=>b(y))}).catch(b=>{x==null||x(void 0,b)})};return n.persist={setOptions:d=>{a={...a,...d},d.storage&&(c=d.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:d=>(l.add(d),()=>{l.delete(d)}),onFinishHydration:d=>(u.add(d),()=>{u.delete(d)})},a.skipHydration||g(),y||m},di=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((oi?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ui(e,r)):ci(e,r),Ln=di,Ot=on()(Ln(e=>({sidebarCollapsed:!1,theme:"light",currentPage:"/",toggleSidebar:()=>e(r=>({sidebarCollapsed:!r.sidebarCollapsed})),setTheme:r=>e({theme:r}),setCurrentPage:r=>e({currentPage:r})}),{name:"app-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme})})),zn=on()(Ln(e=>({token:null,user:null,isAuthenticated:!1,login:(r,s)=>{console.log("authStore.login called",{token:r,user:s}),e({token:r,user:s,isAuthenticated:!0}),console.log("Login successful, state updated")},logout:()=>{console.log("authStore.logout called"),e({token:null,user:null,isAuthenticated:!1})},updateUser:r=>{e(s=>({user:s.user?{...s.user,...r}:null}))}}),{name:"auth-storage"})),{Header:hi}=me,fi=()=>{const{sidebarCollapsed:e,toggleSidebar:r}=Ot(),{logout:s,user:t}=zn(),n=[{key:"profile",icon:i.jsx(dt,{}),label:""},{key:"settings",icon:i.jsx(en,{}),label:""},{key:"divider",type:"divider"},{key:"logout",icon:i.jsx(er,{}),label:"",danger:!0}],a=({key:o})=>{switch(o){case"logout":s(),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/";break;case"settings":window.location.href="/settings";break}};return i.jsxs(hi,{style:{backgroundColor:"#ffffff",boxShadow:"0 1px 4px rgba(0,21,41,.08)",borderBottom:"1px solid #e8e8e8",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between",height:64,position:"fixed",top:0,left:0,right:0,zIndex:10},children:[i.jsx("div",{className:"flex items-center",children:i.jsx(I,{type:"text",icon:e?i.jsx(Jn,{}):i.jsx(Yn,{}),onClick:r,className:"text-gray-600"})}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(X,{children:[i.jsx("span",{className:"text-gray-600",children:""}),i.jsx(Xn,{menu:{items:n,onClick:a},placement:"bottomRight",children:i.jsxs(I,{type:"text",className:"flex items-center",children:[i.jsx(Zn,{size:"small",icon:i.jsx(dt,{}),className:"bg-primary-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:(t==null?void 0:t.username)||""})]})})]})})]})},{Sider:pi}=me,mi=()=>{const{sidebarCollapsed:e}=Ot(),r=Je(),s=gn(),t=i.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-200",children:i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"OneKeyRelease"})}),n=[{key:"/",icon:i.jsx(nr,{}),label:""},{key:"/tasks",icon:i.jsx(We,{}),label:""},{key:"content",icon:i.jsx(Pt,{}),label:"",children:[{key:"/content",icon:i.jsx(Pt,{}),label:""},{key:"/content/history",icon:i.jsx(rr,{}),label:""}]},{key:"/state-machine",icon:i.jsx(sr,{}),label:""},{key:"/accounts",icon:i.jsx(dt,{}),label:""},{key:"/settings",icon:i.jsx(en,{}),label:""}],a=({key:o})=>{s(o)};return i.jsx(pi,{trigger:null,collapsible:!0,collapsed:e,className:"fixed left-0 bg-white border-r border-gray-200",style:{overflow:"auto",height:"calc(100vh - 64px)",position:"fixed",left:0,top:64,bottom:0,backgroundColor:"#ffffff",zIndex:5},theme:"light",children:i.jsxs("div",{className:"h-full flex flex-col",children:[!e&&t,i.jsx("div",{className:"flex-1",children:i.jsx(tr,{mode:"inline",selectedKeys:[r.pathname],items:n,onClick:a,className:"border-none"})})]})})},_=hr.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),vi=()=>{var e;try{const r=localStorage.getItem("auth-storage");if(r)return((e=JSON.parse(r).state)==null?void 0:e.token)||null}catch(r){console.error("Failed to get token from storage:",r)}return null};_.interceptors.request.use(e=>{try{e.headers||(e.headers={});const r=vi();r&&typeof r=="string"&&r.trim()!==""&&(e.headers.Authorization=`Bearer ${r}`)}catch(r){console.warn("token:",r)}return e},e=>Promise.reject(e));_.interceptors.response.use(e=>e.data,e=>{var r;try{((r=e==null?void 0:e.response)==null?void 0:r.status)===401&&(localStorage.removeItem("auth-storage"),window.location.pathname.includes("/auth")||window.location.reload())}catch(s){console.warn(":",s)}return Promise.reject(e)});const T={tasks:{list:e=>_.get("/tasks",{params:e}),create:e=>_.post("/tasks",e),get:e=>_.get(`/tasks/${e}`),update:(e,r)=>_.put(`/tasks/${e}`,r),delete:e=>_.delete(`/tasks/${e}`),start:e=>_.post(`/tasks/${e}/start`),stop:e=>_.post(`/tasks/${e}/stop`)},content:{generate:e=>_.post("/content/generate",e),generateImages:e=>_.post("/content/generate/images",e),generateVideo:e=>_.post("/content/generate/video",e),optimize:e=>_.post("/content/optimize",e),batchGenerate:e=>_.post("/content/batch/generate",e),manual:e=>_.post("/content/manual",e),list:e=>_.get("/content",{params:e}),get:e=>_.get(`/content/${e}`),update:(e,r)=>_.put(`/content/${e}`,r),delete:e=>_.delete(`/content/${e}`),publish:e=>_.post("/content/publish",e),saveImages:(e,r)=>_.post(`/content/${e}/images`,r),getPlatforms:()=>_.get("/content/platforms"),getStyles:()=>_.get("/content/styles")},accounts:{list:()=>_.get("/accounts"),create:e=>_.post("/accounts",e),update:(e,r)=>_.put(`/accounts/${e}`,r),delete:e=>_.delete(`/accounts/${e}`),test:e=>_.post(`/accounts/${e}/test`)},auth:{login:e=>_.post("/auth/login",e),register:e=>_.post("/auth/register",e),logout:()=>_.post("/auth/logout"),profile:()=>_.get("/auth/me")}},{Title:Te,Text:le}=fe,yi=()=>{const{data:e=[]}=Pe("dashboard-stats",async()=>{const n=await T.tasks.list();return Array.isArray(n.data)?n.data:[]}),{data:r=[]}=Pe("recent-tasks",async()=>{const n=await T.tasks.list({page:1,pageSize:5,sort:"createdAt_desc"});return Array.isArray(n.data)?n.data:[]}),s={total:(e==null?void 0:e.length)||0,running:(e==null?void 0:e.filter(n=>n.status==="running").length)||0,completed:(e==null?void 0:e.filter(n=>n.status==="completed").length)||0,failed:(e==null?void 0:e.filter(n=>n.status==="failed").length)||0},t=s.total>0?s.completed/s.total*100:0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Te,{level:2,children:""}),i.jsx(le,{type:"secondary",children:""})]}),i.jsxs(W,{gutter:[16,16],children:[i.jsx(E,{xs:24,sm:12,lg:6,children:i.jsx(k,{children:i.jsx(Ae,{title:"",value:s.total,prefix:i.jsx(ir,{}),valueStyle:{color:"#3b82f6"}})})}),i.jsx(E,{xs:24,sm:12,lg:6,children:i.jsx(k,{children:i.jsx(Ae,{title:"",value:s.running,prefix:i.jsx(We,{}),valueStyle:{color:"#f59e0b"}})})}),i.jsx(E,{xs:24,sm:12,lg:6,children:i.jsx(k,{children:i.jsx(Ae,{title:"",value:s.completed,prefix:i.jsx(tn,{}),valueStyle:{color:"#10b981"}})})}),i.jsx(E,{xs:24,sm:12,lg:6,children:i.jsx(k,{children:i.jsx(Ae,{title:"",value:s.failed,prefix:i.jsx(ht,{}),valueStyle:{color:"#ef4444"}})})})]}),i.jsxs(W,{gutter:[16,16],children:[i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ar,{type:"circle",percent:Math.round(t),strokeColor:{"0%":"#3b82f6","100%":"#10b981"}}),i.jsx("div",{className:"mt-4",children:i.jsxs(le,{type:"secondary",children:[" ",s.completed," / ",s.total," "]})})]})})}),i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",children:i.jsx(at,{dataSource:r||[],renderItem:n=>i.jsx(at.Item,{children:i.jsx(at.Item.Meta,{title:n.title,description:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(le,{type:"secondary",children:n.description}),i.jsx(le,{type:n.status==="completed"?"success":n.status==="failed"?"danger":n.status==="running"?"warning":"secondary",children:n.status==="completed"?"":n.status==="failed"?"":n.status==="running"?"":""})]})})})})})})]}),i.jsx(k,{title:"",children:i.jsxs(W,{gutter:[16,16],children:[i.jsx(E,{xs:24,sm:8,children:i.jsxs(k,{hoverable:!0,className:"text-center cursor-pointer",onClick:()=>window.location.href="/content",children:[i.jsx(Te,{level:4,children:" "}),i.jsx(le,{type:"secondary",children:"AI"})]})}),i.jsx(E,{xs:24,sm:8,children:i.jsxs(k,{hoverable:!0,className:"text-center cursor-pointer",onClick:()=>window.location.href="/tasks",children:[i.jsx(Te,{level:4,children:" "}),i.jsx(le,{type:"secondary",children:""})]})}),i.jsx(E,{xs:24,sm:8,children:i.jsxs(k,{hoverable:!0,className:"text-center cursor-pointer",onClick:()=>window.location.href="/accounts",children:[i.jsx(Te,{level:4,children:" "}),i.jsx(le,{type:"secondary",children:""})]})})]})})]})},{Title:xi}=fe,{Option:ut}=K,gi=()=>{const[e,r]=j.useState(!1),[s,t]=j.useState(null),[n]=R.useForm(),a=Ye(),{data:o=[],isLoading:l}=Pe("tasks",async()=>{const d=await T.tasks.list();return Array.isArray(d.data)?d.data:[]}),u=Y(T.tasks.create,{onSuccess:()=>{O.success(""),r(!1),n.resetFields(),a.invalidateQueries("tasks")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),c=Y(d=>T.tasks.start(d),{onSuccess:()=>{O.success(""),a.invalidateQueries("tasks")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),p=Y(d=>T.tasks.delete(d),{onSuccess:()=>{O.success(""),a.invalidateQueries("tasks")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),f=d=>{u.mutate(d)},m=d=>{c.mutate(d)},y=d=>{ye.confirm({title:"",content:"",onOk:()=>p.mutate(d)})},g=[{title:"",dataIndex:"title",key:"title"},{title:"",dataIndex:"description",key:"description",ellipsis:!0},{title:"",dataIndex:"status",key:"status",render:d=>{const h={pending:{color:"default",text:""},running:{color:"processing",text:""},completed:{color:"success",text:""},failed:{color:"error",text:""}},x=h[d]||h.pending;return i.jsx(xe,{color:x.color,children:x.text})}},{title:"",dataIndex:"type",key:"type",render:d=>({content_generation:"",publish:"",both:""})[d]||d},{title:"",dataIndex:"createdAt",key:"createdAt",render:d=>new Date(d).toLocaleString()},{title:"",key:"action",render:(d,h)=>i.jsxs(X,{size:"middle",children:[h.status==="pending"&&i.jsx(I,{type:"link",icon:i.jsx(We,{}),onClick:()=>m(h.id),children:""}),i.jsx(I,{type:"link",icon:i.jsx(ve,{}),onClick:()=>{t(h),r(!0)},children:""}),i.jsx(I,{type:"link",danger:!0,icon:i.jsx(bt,{}),onClick:()=>y(h.id),children:""})]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(xi,{level:2,children:""}),i.jsx(I,{type:"primary",icon:i.jsx(nn,{}),onClick:()=>{t(null),r(!0)},children:""})]}),i.jsx(k,{children:i.jsx(jt,{columns:g,dataSource:o,rowKey:"id",loading:l,pagination:{pageSize:10,showSizeChanger:!0,showTotal:(d,h)=>` ${h[0]}-${h[1]}  ${d} `}})}),i.jsx(ye,{title:s?"":"",open:e,onCancel:()=>{r(!1),n.resetFields()},footer:null,width:600,children:i.jsxs(R,{form:n,layout:"vertical",onFinish:f,initialValues:s||{type:"both"},children:[i.jsx(R.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{name:"description",label:"",children:i.jsx(N.TextArea,{placeholder:"",rows:3})}),i.jsx(R.Item,{name:"type",label:"",rules:[{required:!0,message:""}],children:i.jsxs(K,{placeholder:"",children:[i.jsx(ut,{value:"content_generation",children:""}),i.jsx(ut,{value:"publish",children:""}),i.jsx(ut,{value:"both",children:""})]})}),i.jsx(R.Item,{name:"publishTime",label:"",children:i.jsx(or,{showTime:!0,placeholder:"",style:{width:"100%"}})}),i.jsx(R.Item,{children:i.jsxs(X,{children:[i.jsx(I,{type:"primary",htmlType:"submit",loading:u.isLoading,children:s?"":""}),i.jsx(I,{onClick:()=>{r(!1),n.resetFields()},children:""})]})})]})})]})},{Title:ji,Text:J}=fe,{Option:M}=K,bi=()=>{const[e]=R.useForm(),[r]=R.useForm(),[s,t]=j.useState(null),[n,a]=j.useState([]),[o,l]=j.useState(null),[u,c]=j.useState(!1),[p,f]=j.useState(!1),[m,y]=j.useState(!1),[g,d]=j.useState(!1),h=Y(v=>T.content.generate(v),{onMutate:()=>{c(!0)},onSuccess:v=>{t(v.data),v.data._id&&l(v.data._id),O.success("")},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")},onSettled:()=>{c(!1)}}),x=Y(v=>T.content.generateImages(v),{onMutate:()=>{f(!0)},onSuccess:async v=>{const C=Array.isArray(v.data)?v.data:[];if(a(C),o&&C.length>0)try{await T.content.saveImages(o,{images:C}),O.success("")}catch(w){console.error(":",w),O.success("")}else O.success("")},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")},onSettled:()=>{f(!1)}}),b=Y(v=>T.content.publish(v),{onMutate:()=>{y(!0)},onSuccess:()=>{O.success("")},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")},onSettled:()=>{y(!1)}}),S=Y(v=>T.content.manual(v),{onMutate:()=>{d(!0)},onSuccess:v=>{t(v.data),v.data._id&&l(v.data._id),O.success("")},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")},onSettled:()=>{d(!1)}}),Q=v=>{h.mutate(v)},U=()=>{s&&T.tasks.create({title:`: ${s.title}`,description:s.description,type:"publish",content:s}).then(()=>{O.success("")}).catch(()=>{O.error("")})},F=()=>{const v=e.getFieldValue("topic");if(!v){O.error("");return}x.mutate({theme:v,count:3})},Z=()=>{if(!s||n.length===0){O.error("");return}b.mutate({content:s,images:n,platform:"xiaohongshu"})},ne=v=>{S.mutate(v)},re={style:"casual",tone:"friendly",length:"medium",keywords:[],targetAudience:"",includeHashtags:!0,includeEmojis:!0},z=[{key:"ai",label:i.jsxs("span",{children:[i.jsx(ot,{}),"AI"]}),children:i.jsxs(W,{gutter:[24,24],children:[i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",children:i.jsxs(R,{form:e,layout:"vertical",onFinish:Q,initialValues:re,children:[i.jsx(R.Item,{name:"topic",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{name:"keywords",label:"",children:i.jsx(K,{mode:"tags",placeholder:"",style:{width:"100%"}})}),i.jsx(R.Item,{name:"targetAudience",label:"",children:i.jsxs(K,{placeholder:"",children:[i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""})]})}),i.jsxs(W,{gutter:16,children:[i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"style",label:"",children:i.jsxs(K,{children:[i.jsx(M,{value:"casual",children:""}),i.jsx(M,{value:"professional",children:""}),i.jsx(M,{value:"creative",children:""})]})})}),i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"tone",label:"",children:i.jsxs(K,{children:[i.jsx(M,{value:"friendly",children:""}),i.jsx(M,{value:"formal",children:""}),i.jsx(M,{value:"humorous",children:""})]})})})]}),i.jsx(R.Item,{name:"length",label:"",children:i.jsxs(K,{children:[i.jsx(M,{value:"short",children:""}),i.jsx(M,{value:"medium",children:""}),i.jsx(M,{value:"long",children:""})]})}),i.jsxs(W,{gutter:16,children:[i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"includeHashtags",label:"",valuePropName:"checked",children:i.jsx(ue,{})})}),i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"includeEmojis",label:"",valuePropName:"checked",children:i.jsx(ue,{})})})]}),i.jsx(R.Item,{children:i.jsx(I,{type:"primary",htmlType:"submit",icon:i.jsx(ot,{}),loading:u,size:"large",block:!0,children:""})})]})})}),i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",extra:s&&i.jsxs(X,{children:[i.jsx(I,{icon:i.jsx(Se,{}),loading:p,onClick:F,children:""}),i.jsx(I,{icon:i.jsx(_t,{}),onClick:U,children:""}),i.jsx(I,{type:"primary",icon:i.jsx(Et,{}),loading:m,disabled:n.length===0,onClick:Z,children:""})]}),children:s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx(J,{children:s.title})]}),i.jsx(ce,{}),i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap"},children:s.content||s.text})]}),s.hashtags&&s.hashtags.length>0&&i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx("div",{className:"mt-2",children:s.hashtags.map((v,C)=>i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-2",children:["#",v]},C))})]}),n.length>0&&i.jsxs("div",{children:[i.jsx(ce,{}),i.jsx(J,{strong:!0,children:""}),i.jsx(W,{gutter:[8,8],className:"mt-2",children:n.map((v,C)=>i.jsx(E,{span:8,children:i.jsx(It,{src:v,alt:` ${C+1}`,style:{width:"100%",height:200,objectFit:"cover",borderRadius:8}})},C))})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ot,{className:"text-4xl text-gray-300 mb-4"}),i.jsx(J,{type:"secondary",children:"AI"})]})})})]})},{key:"manual",label:i.jsxs("span",{children:[i.jsx(ve,{}),""]}),children:i.jsxs(W,{gutter:[24,24],children:[i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",children:i.jsxs(R,{form:r,layout:"vertical",onFinish:ne,children:[i.jsx(R.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{name:"content",label:"",rules:[{required:!0,message:""}],children:i.jsx(N.TextArea,{placeholder:"",rows:8,showCount:!0,maxLength:2e3})}),i.jsx(R.Item,{name:"keywords",label:"",children:i.jsx(K,{mode:"tags",placeholder:"",style:{width:"100%"}})}),i.jsx(R.Item,{name:"theme",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsxs(W,{gutter:16,children:[i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"targetAudience",label:"",children:i.jsxs(K,{placeholder:"",children:[i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"",children:""}),i.jsx(M,{value:"general",children:""})]})})}),i.jsx(E,{span:12,children:i.jsx(R.Item,{name:"style",label:"",children:i.jsxs(K,{children:[i.jsx(M,{value:"casual",children:""}),i.jsx(M,{value:"professional",children:""}),i.jsx(M,{value:"creative",children:""})]})})})]}),i.jsx(R.Item,{name:"summary",label:"",children:i.jsx(N.TextArea,{placeholder:"",rows:3,showCount:!0,maxLength:200})}),i.jsx(R.Item,{children:i.jsx(I,{type:"primary",htmlType:"submit",icon:i.jsx(ve,{}),loading:g,size:"large",block:!0,children:""})})]})})}),i.jsx(E,{xs:24,lg:12,children:i.jsx(k,{title:"",extra:s&&i.jsxs(X,{children:[i.jsx(I,{icon:i.jsx(Se,{}),loading:p,onClick:F,children:""}),i.jsx(I,{icon:i.jsx(_t,{}),onClick:U,children:""}),i.jsx(I,{type:"primary",icon:i.jsx(Et,{}),loading:m,disabled:n.length===0,onClick:Z,children:""})]}),children:s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx(J,{children:s.title})]}),i.jsx(ce,{}),i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap"},children:s.content||s.text})]}),s.keywords&&s.keywords.length>0&&i.jsxs("div",{children:[i.jsx(J,{strong:!0,children:""}),i.jsx("div",{className:"mt-2",children:s.keywords.map((v,C)=>i.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-2 mb-2",children:v},C))})]}),n.length>0&&i.jsxs("div",{children:[i.jsx(ce,{}),i.jsx(J,{strong:!0,children:""}),i.jsx(W,{gutter:[8,8],className:"mt-2",children:n.map((v,C)=>i.jsx(E,{span:8,children:i.jsx(It,{src:v,alt:` ${C+1}`,style:{width:"100%",height:200,objectFit:"cover",borderRadius:8}})},C))})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ve,{className:"text-4xl text-gray-300 mb-4"}),i.jsx(J,{type:"secondary",children:""})]})})})]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ji,{level:2,children:""}),i.jsx(lr,{defaultActiveKey:"ai",items:z,size:"large"})]})},{Title:Ci,Text:D}=fe,{Option:ct}=K,Si=()=>{var re,z;const[e,r]=j.useState(null),[s,t]=j.useState(null),[n,a]=j.useState(!1),[o,l]=j.useState(!1),[u,c]=j.useState({page:1,limit:10,theme:"",status:""}),[p]=R.useForm(),{data:f,isLoading:m,refetch:y}=Pe(["content",u],()=>T.content.list(u)),g=Y(v=>T.content.delete(v),{onSuccess:()=>{O.success(""),y()},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")}}),d=Y(({id:v,data:C})=>T.content.update(v,C),{onSuccess:()=>{O.success(""),l(!1),t(null),p.resetFields(),y()},onError:v=>{var C,w;O.error(((w=(C=v.response)==null?void 0:C.data)==null?void 0:w.error)||"")}}),h=async v=>{var C,w;try{const B=await T.content.get(v);r(B.data),a(!0)}catch(B){O.error(((w=(C=B.response)==null?void 0:C.data)==null?void 0:w.error)||"")}},x=v=>{g.mutate(v)},b=async v=>{var C,w,B;try{const V=await T.content.get(v);t(V.data),p.setFieldsValue({title:V.data.title,content:V.data.content,hashtags:(C=V.data.hashtags)==null?void 0:C.join(", "),summary:V.data.summary}),l(!0)}catch(V){O.error(((B=(w=V.response)==null?void 0:w.data)==null?void 0:B.error)||"")}},S=v=>{if(!s)return;const C={title:v.title,content:v.content,hashtags:v.hashtags.split(/[,]/).map(w=>w.trim()).filter(w=>w),summary:v.summary};d.mutate({id:s._id,data:C})},Q=(v,C)=>{c(w=>({...w,[v]:C,page:1}))},U=(v,C)=>{c(w=>({...w,page:v,limit:C||w.limit}))},F=[{title:"",dataIndex:"title",key:"title",ellipsis:!0,width:200},{title:"",dataIndex:"theme",key:"theme",width:120},{title:"",dataIndex:"targetAudience",key:"targetAudience",width:100},{title:"",dataIndex:"style",key:"style",width:80,render:v=>({formal:"",casual:"",professional:"",creative:""})[v]||v},{title:"",dataIndex:"status",key:"status",width:80,render:v=>{const w={generated:{color:"blue",text:""},published:{color:"green",text:""},failed:{color:"red",text:""}}[v]||{color:"default",text:v};return i.jsx(xe,{color:w.color,children:w.text})}},{title:"",dataIndex:"generatedAt",key:"generatedAt",width:150,render:v=>new Date(v).toLocaleString()},{title:"",key:"action",width:180,render:(v,C)=>i.jsxs(X,{size:"small",children:[i.jsx(I,{type:"link",size:"small",icon:i.jsx(sn,{}),onClick:()=>h(C._id),children:""}),i.jsx(I,{type:"link",size:"small",icon:i.jsx(ve,{}),onClick:()=>b(C._id),children:""}),i.jsx(an,{title:"",description:"",onConfirm:()=>x(C._id),okText:"",cancelText:"",children:i.jsx(I,{type:"link",danger:!0,size:"small",icon:i.jsx(bt,{}),loading:g.isLoading,children:""})})]})}],Z=((re=f==null?void 0:f.data)==null?void 0:re.contents)||[],ne=((z=f==null?void 0:f.data)==null?void 0:z.pagination)||{};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ci,{level:2,children:""}),i.jsx(I,{icon:i.jsx(rn,{}),onClick:()=>y(),loading:m,children:""})]}),i.jsx(k,{children:i.jsxs(W,{gutter:[16,16],children:[i.jsx(E,{xs:24,sm:8,children:i.jsx(N,{placeholder:"",prefix:i.jsx(ur,{}),value:u.theme,onChange:v=>Q("theme",v.target.value),allowClear:!0})}),i.jsx(E,{xs:24,sm:8,children:i.jsxs(K,{placeholder:"",style:{width:"100%"},value:u.status||void 0,onChange:v=>Q("status",v),allowClear:!0,children:[i.jsx(ct,{value:"generated",children:""}),i.jsx(ct,{value:"published",children:""}),i.jsx(ct,{value:"failed",children:""})]})})]})}),i.jsx(k,{children:i.jsx(jt,{columns:F,dataSource:Z,rowKey:"_id",loading:m,pagination:{current:ne.page,pageSize:ne.limit,total:ne.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(v,C)=>` ${C[0]}-${C[1]}  ${v} `,onChange:U}})}),i.jsx(ye,{title:"",open:n,onCancel:()=>a(!1),footer:[i.jsx(I,{onClick:()=>a(!1),children:""},"close")],width:800,children:e&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:e.title})]}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:e.theme})]}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:e.targetAudience})]}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:e.style==="formal"?"":e.style==="casual"?"":e.style==="professional"?"":e.style==="creative"?"":e.style})]}),i.jsx(ce,{}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",style:{whiteSpace:"pre-wrap",maxHeight:"300px",overflowY:"auto"},children:e.content})]}),e.hashtags&&e.hashtags.length>0&&i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx("div",{className:"mt-2",children:e.hashtags.map((v,C)=>i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2 mb-2",children:["#",v]},C))})]}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:e.summary})]}),i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:new Date(e.generatedAt).toLocaleString()})]}),e.publishedAt&&i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx(D,{children:new Date(e.publishedAt).toLocaleString()})]}),e.publishUrl&&i.jsxs("div",{children:[i.jsx(D,{strong:!0,children:""}),i.jsx("a",{href:e.publishUrl,target:"_blank",rel:"noopener noreferrer",children:e.publishUrl})]})]})}),i.jsx(ye,{title:"",open:o,onCancel:()=>{l(!1),t(null),p.resetFields()},footer:null,width:800,children:i.jsxs(R,{form:p,layout:"vertical",onFinish:S,children:[i.jsx(R.Item,{name:"title",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{name:"content",label:"",rules:[{required:!0,message:""}],children:i.jsx(N.TextArea,{placeholder:"",rows:8,style:{whiteSpace:"pre-wrap"}})}),i.jsx(R.Item,{name:"hashtags",label:"",extra:"",children:i.jsx(N,{placeholder:",,"})}),i.jsx(R.Item,{name:"summary",label:"",children:i.jsx(N.TextArea,{placeholder:"",rows:3})}),i.jsx(R.Item,{children:i.jsxs(X,{children:[i.jsx(I,{type:"primary",htmlType:"submit",loading:d.isLoading,children:""}),i.jsx(I,{onClick:()=>{l(!1),t(null),p.resetFields()},children:""})]})})]})})]})},{Title:Ri}=fe,wi=()=>{const[e,r]=j.useState(!1),[s,t]=j.useState(null),[n]=R.useForm(),a=Ye(),{data:o=[],isLoading:l}=Pe("accounts",async()=>{const d=await T.accounts.list();return Array.isArray(d.data)?d.data:[]}),u=Y(T.accounts.create,{onSuccess:()=>{O.success(""),r(!1),n.resetFields(),a.invalidateQueries("accounts")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),c=Y(d=>T.accounts.test(d),{onSuccess:()=>{O.success(""),a.invalidateQueries("accounts")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),p=Y(d=>T.accounts.delete(d),{onSuccess:()=>{O.success(""),a.invalidateQueries("accounts")},onError:d=>{var h,x;O.error(((x=(h=d.response)==null?void 0:h.data)==null?void 0:x.error)||"")}}),f=d=>{u.mutate(d)},m=d=>{c.mutate(d)},y=d=>{p.mutate(d)},g=[{title:"",dataIndex:"platform",key:"platform",render:d=>i.jsx(xe,{color:"red",children:d==="xiaohongshu"?"":d})},{title:"",dataIndex:"username",key:"username"},{title:"",dataIndex:"nickname",key:"nickname"},{title:"",dataIndex:"status",key:"status",render:d=>{const h={active:{color:"success",text:"",icon:i.jsx(tn,{})},inactive:{color:"default",text:"",icon:i.jsx(ht,{})},error:{color:"error",text:"",icon:i.jsx(ht,{})}},x=h[d]||h.inactive;return i.jsx(xe,{color:x.color,icon:x.icon,children:x.text})}},{title:"",dataIndex:"lastLogin",key:"lastLogin",render:d=>d?new Date(d).toLocaleString():""},{title:"",dataIndex:"createdAt",key:"createdAt",render:d=>new Date(d).toLocaleString()},{title:"",key:"action",render:(d,h)=>i.jsxs(X,{size:"middle",children:[i.jsx(I,{type:"link",size:"small",onClick:()=>m(h.id),loading:c.isLoading,children:""}),i.jsx(I,{type:"link",size:"small",icon:i.jsx(ve,{}),onClick:()=>{t(h),r(!0)},children:""}),i.jsx(an,{title:"",description:"",onConfirm:()=>y(h.id),okText:"",cancelText:"",children:i.jsx(I,{type:"link",danger:!0,size:"small",icon:i.jsx(bt,{}),children:""})})]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ri,{level:2,children:""}),i.jsx(I,{type:"primary",icon:i.jsx(nn,{}),onClick:()=>{t(null),r(!0)},children:""})]}),i.jsx(k,{children:i.jsx(jt,{columns:g,dataSource:o,rowKey:"id",loading:l,pagination:{pageSize:10,showSizeChanger:!0,showTotal:(d,h)=>` ${h[0]}-${h[1]}  ${d} `}})}),i.jsx(ye,{title:s?"":"",open:e,onCancel:()=>{r(!1),n.resetFields()},footer:null,width:500,children:i.jsxs(R,{form:n,layout:"vertical",onFinish:f,initialValues:s||{platform:"xiaohongshu"},children:[i.jsx(R.Item,{name:"platform",label:"",children:i.jsx(N,{disabled:!0,value:""})}),i.jsx(R.Item,{name:"username",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{name:"password",label:"",rules:[{required:!0,message:""}],children:i.jsx(N.Password,{placeholder:""})}),i.jsx(R.Item,{name:"nickname",label:"",rules:[{required:!0,message:""}],children:i.jsx(N,{placeholder:""})}),i.jsx(R.Item,{children:i.jsxs(X,{children:[i.jsx(I,{type:"primary",htmlType:"submit",loading:u.isLoading,children:s?"":""}),i.jsx(I,{onClick:()=>{r(!1),n.resetFields()},children:""})]})})]})})]})},{Title:Oi}=fe,{Option:Ne}=K,Pi=()=>{const[e]=cr(),[r,s]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const o={theme:"light",language:"zh-CN",notifications:{email:!0,push:!1,taskComplete:!0,taskError:!0},apiConfig:{openaiApiKey:"",stableDiffusionUrl:"http://localhost:7860",timeout:3e4},taskSettings:{autoRetry:!0,maxRetries:3,timeout:3e5}};e.setFieldsValue(o)}catch{O.error("")}})()},[e]);const t=async a=>{s(!0);try{console.log(":",a),await new Promise(o=>setTimeout(o,1e3)),O.success("")}catch{O.error("")}finally{s(!1)}},n=()=>{e.resetFields(),O.info("")};return i.jsxs("div",{className:"p-6",children:[i.jsx(Oi,{level:2,children:""}),i.jsxs(R,{form:e,layout:"vertical",onFinish:t,className:"max-w-4xl",children:[i.jsxs(k,{title:"",className:"mb-6",children:[i.jsx(R.Item,{label:"",name:"theme",children:i.jsxs(K,{children:[i.jsx(Ne,{value:"light",children:""}),i.jsx(Ne,{value:"dark",children:""})]})}),i.jsx(R.Item,{label:"",name:"language",children:i.jsxs(K,{children:[i.jsx(Ne,{value:"zh-CN",children:""}),i.jsx(Ne,{value:"en-US",children:"English"})]})})]}),i.jsxs(k,{title:"",className:"mb-6",children:[i.jsx(R.Item,{label:"",name:["notifications","email"],valuePropName:"checked",children:i.jsx(ue,{})}),i.jsx(R.Item,{label:"",name:["notifications","push"],valuePropName:"checked",children:i.jsx(ue,{})}),i.jsx(R.Item,{label:"",name:["notifications","taskComplete"],valuePropName:"checked",children:i.jsx(ue,{})}),i.jsx(R.Item,{label:"",name:["notifications","taskError"],valuePropName:"checked",children:i.jsx(ue,{})})]}),i.jsxs(k,{title:"API",className:"mb-6",children:[i.jsx(R.Item,{label:"OpenAI API",name:["apiConfig","openaiApiKey"],help:"AI",children:i.jsx(N.Password,{placeholder:"OpenAI API"})}),i.jsx(R.Item,{label:"Stable Diffusion URL",name:["apiConfig","stableDiffusionUrl"],help:"AI",children:i.jsx(N,{placeholder:"http://localhost:7860"})}),i.jsx(R.Item,{label:"API()",name:["apiConfig","timeout"],children:i.jsx(N,{type:"number",min:1e3,max:6e4})})]}),i.jsxs(k,{title:"",className:"mb-6",children:[i.jsx(R.Item,{label:"",name:["taskSettings","autoRetry"],valuePropName:"checked",children:i.jsx(ue,{})}),i.jsx(R.Item,{label:"",name:["taskSettings","maxRetries"],dependencies:[["taskSettings","autoRetry"]],children:({getFieldValue:a})=>i.jsx(N,{type:"number",min:1,max:10,disabled:!a(["taskSettings","autoRetry"])})}),i.jsx(R.Item,{label:"()",name:["taskSettings","timeout"],children:i.jsx(N,{type:"number",min:3e4,max:18e5})})]}),i.jsx(ce,{}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(I,{type:"primary",htmlType:"submit",icon:i.jsx(dr,{}),loading:r,size:"large",children:""}),i.jsx(I,{icon:i.jsx(rn,{}),onClick:n,size:"large",children:""})]})]})]})},{Title:Ii,Text:H}=fe,_i=()=>{const[e,r]=j.useState(null),[s,t]=j.useState([]),[n,a]=j.useState(!1),o=async u=>{const{file:c,onSuccess:p,onError:f}=u;try{const m=new FileReader;m.onload=y=>{var g;try{const d=(g=y.target)==null?void 0:g.result,h=JSON.parse(d);if(!h.name||!h.states)throw new Error("wizard");r(h),O.success(`wizard: ${h.name}`),p==null||p("ok")}catch(d){O.error(""),f==null||f(d)}},m.readAsText(c)}catch(m){O.error(""),f==null||f(m)}},l=u=>{const c=f=>{switch(f){case"start":return"#52c41a";case"end":return"#f5222d";case"decision":return"#fa8c16";default:return"#1890ff"}},p=f=>{switch(f){case"start":return"";case"end":return"";case"decision":return"";default:return""}};return i.jsxs(k,{size:"small",style:{width:120,borderColor:c(u.type),borderWidth:2,position:"absolute",left:u.x,top:u.y},title:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:p(u.type)}),i.jsx(xe,{color:c(u.type),children:u.type==="start"?"":u.type==="end"?"":u.type==="decision"?"":""})]}),children:[i.jsx(H,{strong:!0,children:u.name}),u.transitions.length>0&&i.jsx("div",{className:"mt-2",children:i.jsxs(H,{type:"secondary",style:{fontSize:"12px"},children:[": ",u.transitions.length]})})]},u.id)};return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsxs(Ii,{level:2,children:["",e&&i.jsxs(H,{type:"secondary",style:{fontSize:"16px",marginLeft:"12px"},children:["- ",e.name]})]}),(e==null?void 0:e.description)&&i.jsx(H,{type:"secondary",children:e.description})]}),i.jsxs(X,{children:[i.jsx(Ft,{customRequest:o,fileList:s,onChange:({fileList:u})=>t(u),accept:".json",showUploadList:!1,children:i.jsx(I,{icon:i.jsx(Se,{}),children:"Wizard"})}),e&&i.jsxs(i.Fragment,{children:[i.jsx(I,{icon:i.jsx(sn,{}),onClick:()=>a(!0),children:""}),i.jsx(I,{icon:i.jsx(We,{}),type:"primary",children:""})]})]})]}),i.jsx(k,{title:"",style:{minHeight:"500px",position:"relative"},extra:e&&i.jsx(X,{children:i.jsxs(H,{type:"secondary",children:[": ",e.states.length," | : ",e.transitions.length]})}),children:e?i.jsxs("div",{style:{position:"relative",height:"400px"},children:[e.states.map(l),i.jsx("div",{className:"absolute inset-0 pointer-events-none"})]}):i.jsxs("div",{className:"text-center py-20",children:[i.jsx(Se,{className:"text-4xl text-gray-300 mb-4"}),i.jsx("div",{children:i.jsx(H,{type:"secondary",children:"wizard"})}),i.jsx("div",{className:"mt-4",children:i.jsx(Ft,{customRequest:o,fileList:s,onChange:({fileList:u})=>t(u),accept:".json",children:i.jsx(I,{type:"primary",icon:i.jsx(Se,{}),children:"Wizard"})})})]})}),i.jsx(ye,{title:`Wizard - ${e==null?void 0:e.name}`,open:n,onCancel:()=>a(!1),footer:[i.jsx(I,{onClick:()=>a(!1),children:""},"close")],width:800,children:e&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(W,{children:[i.jsx(E,{span:8,children:i.jsx(H,{strong:!0,children:":"})}),i.jsx(E,{span:16,children:i.jsx(H,{children:e.name})})]}),i.jsxs(W,{children:[i.jsx(E,{span:8,children:i.jsx(H,{strong:!0,children:":"})}),i.jsx(E,{span:16,children:i.jsx(H,{children:e.version})})]}),i.jsxs(W,{children:[i.jsx(E,{span:8,children:i.jsx(H,{strong:!0,children:":"})}),i.jsx(E,{span:16,children:i.jsx(H,{children:e.description})})]}),i.jsx(ce,{}),i.jsxs(W,{children:[i.jsx(E,{span:12,children:i.jsx(k,{size:"small",title:"",children:e.states.map(u=>i.jsxs("div",{className:"mb-2 p-2 border rounded",children:[i.jsx(H,{strong:!0,children:u.name}),i.jsx(xe,{style:{marginLeft:"8px",fontSize:"12px"},children:u.type})]},u.id))})}),i.jsx(E,{span:12,children:i.jsx(k,{size:"small",title:"",children:e.transitions.map(u=>i.jsxs("div",{className:"mb-2 p-2 border rounded",children:[i.jsxs(H,{children:[u.fromState,"  ",u.toState]}),u.condition&&i.jsxs(H,{type:"secondary",style:{fontSize:"12px",display:"block"},children:[": ",u.condition]})]},u.id))})})]})]})})]})},{Content:Ei}=me,Fi=()=>{const{sidebarCollapsed:e}=Ot(),{isAuthenticated:r,token:s,user:t,login:n}=zn(),[a,o]=j.useState(!0);return console.log("App:",{isAuthenticated:r,token:s,user:t}),j.useEffect(()=>{(async()=>{try{(!r||!s)&&(console.log("..."),n("demo-token",{id:"demo-user-id",username:"",email:"demo@example.com",role:"admin"}),console.log(""))}catch(u){console.error(":",u)}finally{o(!1)}})()},[r,s,n]),a?i.jsx(ft,{locale:Zt,children:i.jsx(kt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})})})}):(console.log(""),i.jsx(ft,{locale:Zt,children:i.jsx(kt,{children:i.jsxs(me,{style:{minHeight:"100vh",backgroundColor:"#ffffff"},children:[i.jsx(fi,{}),i.jsxs(me,{style:{backgroundColor:"#f0f2f5",minHeight:"calc(100vh - 64px)"},children:[i.jsx(mi,{}),i.jsx(me,{className:"transition-all duration-200",style:{marginLeft:e?80:200,backgroundColor:"#f0f2f5",minHeight:"calc(100vh - 64px)"},children:i.jsx(Ei,{className:"p-6",style:{minHeight:"calc(100vh - 64px)"},children:i.jsxs(us,{children:[i.jsx(te,{path:"/",element:i.jsx(yi,{})}),i.jsx(te,{path:"/tasks",element:i.jsx(gi,{})}),i.jsx(te,{path:"/content",element:i.jsx(bi,{})}),i.jsx(te,{path:"/content/history",element:i.jsx(Si,{})}),i.jsx(te,{path:"/accounts",element:i.jsx(wi,{})}),i.jsx(te,{path:"/settings",element:i.jsx(Pi,{})}),i.jsx(te,{path:"/state-machine",element:i.jsx(_i,{})}),i.jsx(te,{path:"/auth",element:i.jsx(Ut,{to:"/",replace:!0})}),i.jsx(te,{path:"*",element:i.jsx(Ut,{to:"/",replace:!0})})]})})})]})]})})}))},ki=new Fs({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}}),$i={token:{colorPrimary:"#0ea5e9",borderRadius:8,fontSize:14}};pt.createRoot(document.getElementById("root")).render(i.jsx(A.StrictMode,{children:i.jsx(Ns,{client:ki,children:i.jsx(ft,{theme:$i,children:i.jsx(hs,{children:i.jsx(Fi,{})})})})}));
